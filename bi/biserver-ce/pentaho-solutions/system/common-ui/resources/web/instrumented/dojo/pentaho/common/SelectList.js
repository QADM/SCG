/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    _$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (typeof _$jscoverage !== 'object') {
  _$jscoverage = {};
}
if (! _$jscoverage['dojo/pentaho/common/SelectList.js']) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'] = [];
  _$jscoverage['dojo/pentaho/common/SelectList.js'][1] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][2] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][3] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][8] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][22] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][26] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][27] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][29] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][30] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][34] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][36] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][44] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][45] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][54] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][55] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][57] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][58] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][59] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][60] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][84] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][85] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][87] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][88] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][90] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][92] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][96] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][97] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][101] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][105] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][109] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][113] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][126] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][127] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][128] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][129] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][140] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][141] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][142] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][143] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][148] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][149] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][153] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][154] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][155] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][157] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][158] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][164] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][165] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][166] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][167] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][168] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][170] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][174] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][181] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][182] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][184] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][185] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][186] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][187] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][188] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][189] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][192] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][193] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][194] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][195] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][200] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][205] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][206] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][209] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][215] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][216] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][217] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][219] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][220] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][221] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][222] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][223] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][227] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][233] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][234] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][237] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][238] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][239] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][240] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][242] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][244] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][245] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][246] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][248] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][250] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][254] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][255] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][257] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][261] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][262] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][263] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][264] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][267] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][268] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][269] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][272] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][273] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][275] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][276] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][278] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][279] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][282] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][287] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][288] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][292] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][293] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][297] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][298] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][299] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][301] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][302] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][307] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][308] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][310] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][311] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][312] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][317] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][318] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][320] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][321] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][322] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][324] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][325] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][330] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][331] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][332] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][333] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][335] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][340] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][341] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][342] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][344] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][345] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][347] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][348] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][349] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][357] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][358] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][359] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][360] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][365] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][366] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][367] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][368] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][370] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][371] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][372] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][374] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][375] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][379] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][380] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][381] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][383] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][384] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][385] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][389] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][390] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][391] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][392] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][393] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][396] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][401] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][402] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][407] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][411] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][412] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][413] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][414] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][415] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][416] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][417] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][418] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][420] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][421] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][424] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][425] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][426] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][428] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][429] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][432] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][434] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][435] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][437] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][440] = 0;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][441] = 0;
}
_$jscoverage['dojo/pentaho/common/SelectList.js'].source = ["dojo<span class=\"k\">.</span>provide<span class=\"k\">(</span><span class=\"s\">\"pentaho.common.SelectList\"</span><span class=\"k\">);</span>","dojo<span class=\"k\">.</span>require<span class=\"k\">(</span><span class=\"s\">\"dojo.dnd.Selector\"</span><span class=\"k\">);</span>","dojo<span class=\"k\">.</span>require<span class=\"k\">(</span><span class=\"s\">\"dojox.html.entities\"</span><span class=\"k\">);</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * Creates a list of fields from a </span>","<span class=\"c\"> */</span>","dojo<span class=\"k\">.</span>declare<span class=\"k\">(</span>","    <span class=\"s\">\"pentaho.common.SelectList\"</span><span class=\"k\">,</span>","    <span class=\"k\">[</span>dijit<span class=\"k\">.</span>_Widget<span class=\"k\">,</span> dijit<span class=\"k\">.</span>_Templated<span class=\"k\">],</span>","<span class=\"k\">{</span>","  templateString<span class=\"k\">:</span> <span class=\"s\">'&lt;div dojoAttachPoint=\"containerNode\" class=\"pentaho-listbox\"&gt;&lt;/div&gt;'</span><span class=\"k\">,</span>","  connectHandles<span class=\"k\">:</span> <span class=\"k\">[],</span>","  singleSelect<span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","  getLocaleString<span class=\"k\">:</span> undefined<span class=\"k\">,</span>","  idMap<span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","  items<span class=\"k\">:[],</span>","  folderStyle<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","  fieldContextMenuCallback<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","  ","  sanitizeIdAndClassNames<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>name<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> dojox<span class=\"k\">.</span>html<span class=\"k\">.</span>entities<span class=\"k\">.</span>encode<span class=\"k\">(</span>name<span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/ /g</span><span class=\"k\">,</span><span class=\"s\">\"_\"</span><span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  clear<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    dojo<span class=\"k\">.</span>forEach<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>handle<span class=\"k\">)</span> <span class=\"k\">{</span>","      dojo<span class=\"k\">.</span>disconnect<span class=\"k\">(</span>handle<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles <span class=\"k\">=</span> <span class=\"k\">[];</span>","    dojo<span class=\"k\">.</span>empty<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>containerNode<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  init<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>fieldContextMenuCallback <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fieldContextMenuCallback<span class=\"k\">;</span>","","        <span class=\"k\">this</span><span class=\"k\">.</span>selector <span class=\"k\">=</span> <span class=\"k\">new</span> dojo<span class=\"k\">.</span>dnd<span class=\"k\">.</span>Selector<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>containerNode<span class=\"k\">,</span> ","        <span class=\"k\">{</span>","          <span class=\"s\">\"copyOnly\"</span><span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","          <span class=\"s\">\"accept\"</span><span class=\"k\">:</span> <span class=\"s\">\"\"</span><span class=\"k\">,</span>","          <span class=\"s\">\"selfAccept\"</span><span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","          <span class=\"s\">\"singular\"</span><span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>singleSelect<span class=\"k\">,</span>","          <span class=\"s\">\"creator\"</span><span class=\"k\">:</span> dojo<span class=\"k\">.</span>hitch<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_dndItemCreator<span class=\"k\">)</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>_addItemClass <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_addItemClass<span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>_removeItemClass <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_removeItemClass<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Function to call when a field's oncontextmenu event is received</span>","<span class=\"c\">   * The default implementation is provided here. Call registerFieldContextMenuCallback</span>","<span class=\"c\">   * to override it.</span>","<span class=\"c\">   */</span>","  _fieldContextMenuCallback<span class=\"k\">:</span> <span class=\"k\">function</span> fieldContextMenuShow<span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>fieldContextMenu <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        dojo<span class=\"k\">.</span>stopEvent<span class=\"k\">(</span>event<span class=\"k\">);</span>","        <span class=\"k\">var</span> x <span class=\"k\">=</span> event<span class=\"k\">.</span>pageX<span class=\"k\">;</span>","        <span class=\"k\">var</span> y <span class=\"k\">=</span> event<span class=\"k\">.</span>pageY<span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>fieldContextMenu<span class=\"k\">.</span>_scheduleOpen<span class=\"k\">(</span>event<span class=\"k\">.</span>target<span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">{</span>x<span class=\"k\">:</span> x<span class=\"k\">,</span> y<span class=\"k\">:</span> y<span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Function to handle adding a field. Will receive the fieldId as the only parameter.</span>","<span class=\"c\">   */</span>","  doubleClickCallback<span class=\"k\">:</span> undefined<span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Function to handle adding a field. Will receive the fieldId as the only parameter.</span>","<span class=\"c\">   */</span>","  clickCallback<span class=\"k\">:</span> undefined<span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * The dojo.dnd.Selector object used if enableDragDrop is false</span>","<span class=\"c\">   */</span>","  selector<span class=\"k\">:</span> undefined<span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * Function to handle disabling the selection of text.</span>","<span class=\"c\">   * The default implementation is provided here. Call registerTextSelectionDisabler</span>","<span class=\"c\">   * to override it.</span>","<span class=\"c\">   */</span>","  textSelectionDisabler<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>target<span class=\"k\">)</span><span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> target<span class=\"k\">.</span>onselectstart<span class=\"k\">!=</span><span class=\"s\">\"undefined\"</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"c\">//IE route</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>target<span class=\"k\">,</span> <span class=\"s\">\"onselectstart\"</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span><span class=\"k\">));</span>","    <span class=\"k\">}</span> ","    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> target<span class=\"k\">.</span>style<span class=\"k\">.</span>MozUserSelect<span class=\"k\">!=</span><span class=\"s\">\"undefined\"</span><span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"c\">//Firefox route</span>","        target<span class=\"k\">.</span>style<span class=\"k\">.</span>MozUserSelect<span class=\"k\">=</span><span class=\"s\">\"none\"</span>","    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span> <span class=\"c\">//All other route (ie: Opera)</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>connect<span class=\"k\">(</span>target<span class=\"k\">,</span> <span class=\"s\">\"onmousedown\"</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span> <span class=\"k\">}</span><span class=\"k\">));</span>","    <span class=\"k\">}</span>","    target<span class=\"k\">.</span>style<span class=\"k\">.</span>cursor <span class=\"k\">=</span> <span class=\"s\">\"default\"</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  registerLocalizationLookup<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>f<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>getLocaleString <span class=\"k\">=</span> f<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>_localize<span class=\"k\">();</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  registerTextSelectionDisabler<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>f<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>textSelectionDisabler <span class=\"k\">=</span> f<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  registerFieldContextMenuCallback<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>f<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>fieldContextMenuCallback <span class=\"k\">=</span> f<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  registerDoubleClickCallback<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>f<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>doubleClickCallback <span class=\"k\">=</span> f<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  registerClickCallback<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>f<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>clickCallback <span class=\"k\">=</span> f<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  _localize<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  _addItemClass<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">,</span> type<span class=\"k\">)</span><span class=\"k\">{</span>","    <span class=\"c\">// summary:</span>","    <span class=\"c\">//\t\tadds a class with prefix \"dojoDndItem\"</span>","    <span class=\"c\">// node: Node</span>","    <span class=\"c\">//\t\ta node</span>","    <span class=\"c\">// type: String</span>","    <span class=\"c\">//\t\ta variable suffix for a class name</span>","    dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">\"dojoDndItem\"</span> <span class=\"k\">+</span> type<span class=\"k\">);</span>","    <span class=\"k\">if</span><span class=\"k\">(</span>type <span class=\"k\">==</span> <span class=\"s\">'Selected'</span> <span class=\"k\">||</span> type <span class=\"k\">==</span> <span class=\"s\">'Anchor'</span><span class=\"k\">)</span><span class=\"k\">{</span>","        dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">\"pentaho-listitem-selected\"</span><span class=\"k\">);</span>","        dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">'pentaho-listitem-hover'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  _removeItemClass<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">,</span> type<span class=\"k\">)</span><span class=\"k\">{</span>","    <span class=\"c\">// summary:</span>","    <span class=\"c\">//\t\tremoves a class with prefix \"dojoDndItem\"</span>","    <span class=\"c\">// node: Node</span>","    <span class=\"c\">//\t\ta node</span>","    <span class=\"c\">// type: String</span>","    <span class=\"c\">//\t\ta variable suffix for a class name</span>","    dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">\"dojoDndItem\"</span> <span class=\"k\">+</span> type<span class=\"k\">);</span>","    <span class=\"k\">if</span><span class=\"k\">(</span>type <span class=\"k\">==</span> <span class=\"s\">'Selected'</span> <span class=\"k\">||</span> type <span class=\"k\">==</span> <span class=\"s\">'Anchor'</span><span class=\"k\">)</span><span class=\"k\">{</span>","        dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">\"pentaho-listitem-selected\"</span><span class=\"k\">);</span>","        dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">'pentaho-listitem-hover'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  addItems<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> items <span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>items <span class=\"k\">=</span> items<span class=\"k\">;</span>","      <span class=\"k\">var</span> parent <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>containerNode<span class=\"k\">;</span>","      ","      <span class=\"c\">// see if we have any nesting</span>","","      <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> idx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> idx<span class=\"k\">&lt;</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> idx<span class=\"k\">++)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> item <span class=\"k\">=</span> items<span class=\"k\">[</span>idx<span class=\"k\">];</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> item<span class=\"k\">.</span>children <span class=\"k\">)</span> <span class=\"k\">{</span>","          <span class=\"c\">// create a parent element</span>","          <span class=\"k\">var</span> saneId <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>sanitizeIdAndClassNames<span class=\"k\">(</span>item<span class=\"k\">.</span>id<span class=\"k\">)</span>","          <span class=\"k\">var</span> options <span class=\"k\">=</span> <span class=\"k\">{</span>","              <span class=\"s\">\"id\"</span><span class=\"k\">:</span> saneId<span class=\"k\">,</span>","              <span class=\"s\">\"class\"</span><span class=\"k\">:</span> <span class=\"s\">\"pentaho-selectlist-container\"</span><span class=\"k\">,</span>","              <span class=\"s\">\"categoryId\"</span><span class=\"k\">:</span> saneId<span class=\"k\">,</span>","              <span class=\"s\">\"collapsed\"</span><span class=\"k\">:</span> <span class=\"s\">\"true\"</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","          <span class=\"k\">var</span> categoryDiv <span class=\"k\">=</span> dojo<span class=\"k\">.</span>create<span class=\"k\">(</span><span class=\"s\">\"div\"</span><span class=\"k\">,</span>options<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>containerNode<span class=\"k\">);</span>","          <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>folderStyle <span class=\"k\">)</span> <span class=\"k\">{</span>","            dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>categoryDiv<span class=\"k\">,</span> <span class=\"s\">\"categoryIndicator\"</span><span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>options<span class=\"k\">.</span>collapsed <span class=\"k\">==</span> <span class=\"s\">\"true\"</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>categoryDiv<span class=\"k\">,</span> <span class=\"s\">\"folder-closed\"</span><span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>categoryDiv<span class=\"k\">,</span> <span class=\"s\">\"folder-open\"</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","          <span class=\"k\">}</span>","          <span class=\"c\">// create span for categoryName to display text</span>","          <span class=\"k\">var</span> categoryNameSpan <span class=\"k\">=</span> dojo<span class=\"k\">.</span>create<span class=\"k\">(</span><span class=\"s\">\"span\"</span><span class=\"k\">,</span>","            <span class=\"k\">{</span>","              <span class=\"s\">\"id\"</span><span class=\"k\">:</span> saneId <span class=\"k\">+</span> <span class=\"s\">\"-span\"</span><span class=\"k\">,</span>","              <span class=\"s\">\"class\"</span><span class=\"k\">:</span> <span class=\"s\">\"treenode-branch-label\"</span><span class=\"k\">,</span>","              <span class=\"s\">\"innerHTML\"</span><span class=\"k\">:</span> item<span class=\"k\">.</span>label<span class=\"k\">,</span>","              <span class=\"s\">\"categoryId\"</span><span class=\"k\">:</span> saneId","            <span class=\"k\">}</span><span class=\"k\">,</span> categoryDiv<span class=\"k\">);</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>textSelectionDisabler<span class=\"k\">(</span>categoryNameSpan<span class=\"k\">);</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>textSelectionDisabler<span class=\"k\">(</span>categoryDiv<span class=\"k\">);</span>","","          <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>categoryDiv<span class=\"k\">,</span> <span class=\"s\">'onclick'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>expandCollapseCategory<span class=\"k\">));</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>categoryNameSpan<span class=\"k\">,</span> <span class=\"s\">'ondblclick'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>expandCollapseCategory<span class=\"k\">));</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>categoryDiv<span class=\"k\">,</span> <span class=\"s\">\"oncontextmenu\"</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>updateSelectionForContextMenu<span class=\"k\">(</span>saneId<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>fieldContextMenuCallback<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>fieldContextMenuCallback<span class=\"k\">(</span>event<span class=\"k\">);</span>","            <span class=\"k\">}</span>","          <span class=\"k\">}</span><span class=\"k\">));</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>categoryNameSpan<span class=\"k\">,</span> <span class=\"s\">\"oncontextmenu\"</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>updateSelectionForContextMenu<span class=\"k\">(</span>saneId<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>fieldContextMenuCallback<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>fieldContextMenuCallback<span class=\"k\">(</span>event<span class=\"k\">);</span>","            <span class=\"k\">}</span>","          <span class=\"k\">}</span><span class=\"k\">));</span>","","          <span class=\"c\">// create DND field list for this category</span>","          <span class=\"k\">var</span> categoryFieldsDiv <span class=\"k\">=</span> dojo<span class=\"k\">.</span>create<span class=\"k\">(</span><span class=\"s\">\"div\"</span><span class=\"k\">,</span>","            <span class=\"k\">{</span>","              <span class=\"s\">\"id\"</span><span class=\"k\">:</span> saneId <span class=\"k\">+</span> <span class=\"s\">\"-fields\"</span><span class=\"k\">,</span>","              <span class=\"s\">\"class\"</span><span class=\"k\">:</span> options<span class=\"k\">.</span>collapsed <span class=\"k\">==</span> <span class=\"s\">\"true\"</span> <span class=\"k\">?</span> <span class=\"s\">\"hidden\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span>","            <span class=\"k\">}</span><span class=\"k\">,</span> categoryDiv<span class=\"k\">);</span>","          <span class=\"k\">for</span><span class=\"k\">(</span> kidIdx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> kidIdx<span class=\"k\">&lt;</span>item<span class=\"k\">.</span>children<span class=\"k\">.</span>length<span class=\"k\">;</span> kidIdx<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>addItem<span class=\"k\">(</span>item<span class=\"k\">.</span>children<span class=\"k\">[</span>kidIdx<span class=\"k\">],</span> categoryFieldsDiv<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","          <span class=\"k\">}</span> ","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>addItem<span class=\"k\">(</span>item<span class=\"k\">,</span> parent<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  addItem<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> item<span class=\"k\">,</span> parent<span class=\"k\">,</span> indented <span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> x <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_dndItemCreator<span class=\"k\">(</span>item<span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">);</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> indented <span class=\"k\">)</span> <span class=\"k\">{</span>","        dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>x<span class=\"k\">.</span>node<span class=\"k\">,</span> <span class=\"s\">\"pentaho-selectlist-item-indent\"</span> <span class=\"k\">);</span>","    <span class=\"k\">}</span>","    parent<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>x<span class=\"k\">.</span>node<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>idMap<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>sanitizeIdAndClassNames<span class=\"k\">(</span>item<span class=\"k\">.</span>id<span class=\"k\">)]=</span> item<span class=\"k\">.</span>id<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>setItem<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>sanitizeIdAndClassNames<span class=\"k\">(</span>item<span class=\"k\">.</span>id<span class=\"k\">),</span> <span class=\"k\">{</span> <span class=\"s\">\"data\"</span><span class=\"k\">:</span> item<span class=\"k\">,</span> <span class=\"s\">\"type\"</span><span class=\"k\">:</span> item<span class=\"k\">.</span>type<span class=\"k\">,</span> <span class=\"s\">\"itemId\"</span><span class=\"k\">:</span> item<span class=\"k\">.</span>itemId <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>x<span class=\"k\">.</span>node<span class=\"k\">,</span> <span class=\"s\">'onmousedown'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>onMouseDown<span class=\"k\">));</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>x<span class=\"k\">.</span>node<span class=\"k\">,</span> <span class=\"s\">'onmouseup'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>onMouseUp<span class=\"k\">));</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  _dndItemCreator<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>item<span class=\"k\">,</span> hint<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> props <span class=\"k\">=</span> <span class=\"k\">{</span>","        <span class=\"s\">\"id\"</span><span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>sanitizeIdAndClassNames<span class=\"k\">(</span>item<span class=\"k\">.</span>id<span class=\"k\">),</span>","        <span class=\"s\">\"innerHTML\"</span><span class=\"k\">:</span> item<span class=\"k\">.</span>label<span class=\"k\">,</span>","        <span class=\"s\">\"itemId\"</span><span class=\"k\">:</span> item<span class=\"k\">.</span>id<span class=\"k\">,</span>","        <span class=\"s\">\"class\"</span><span class=\"k\">:</span> item<span class=\"k\">.</span>type","    <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span>props<span class=\"k\">[</span><span class=\"s\">\"class\"</span><span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        props<span class=\"k\">[</span><span class=\"s\">\"class\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">\"pentaho-selectlist-item\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">if</span><span class=\"k\">(</span>item<span class=\"k\">.</span>title<span class=\"k\">)</span> <span class=\"k\">{</span>","      props<span class=\"k\">.</span>title <span class=\"k\">=</span> item<span class=\"k\">.</span>title<span class=\"k\">;</span>","    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span>item<span class=\"k\">.</span>label<span class=\"k\">)</span> <span class=\"k\">{</span>","      props<span class=\"k\">.</span>title <span class=\"k\">=</span> item<span class=\"k\">.</span>label<span class=\"k\">;</span>","    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","    \tprops<span class=\"k\">.</span>title <span class=\"k\">=</span> item<span class=\"k\">.</span>id<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">var</span> div <span class=\"k\">=</span> dojo<span class=\"k\">.</span>create<span class=\"k\">(</span><span class=\"s\">\"div\"</span><span class=\"k\">,</span> props<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>hint <span class=\"k\">===</span> <span class=\"s\">\"avatar\"</span><span class=\"k\">)</span> <span class=\"k\">{</span>","      dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>div<span class=\"k\">,</span> <span class=\"s\">\"dragDropAvatar\"</span><span class=\"k\">);</span>","    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","      dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>div<span class=\"k\">,</span> <span class=\"s\">\"field\"</span><span class=\"k\">);</span>","<span class=\"c\">//      dojo.addClass(div, \"treenode-leaf-label\");</span>","      dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>div<span class=\"k\">,</span> <span class=\"s\">\"pentaho-listitem\"</span><span class=\"k\">);</span>","<span class=\"c\">//      if( item.className ) {</span>","<span class=\"c\">//        dojo.addClass(div, item.className);</span>","<span class=\"c\">//      } else {</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>item<span class=\"k\">.</span>hasIcon<span class=\"k\">)</span> <span class=\"k\">{</span>","            dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>div<span class=\"k\">,</span> <span class=\"s\">\"pentaho-selectlist-item-icon\"</span><span class=\"k\">);</span>","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","            dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>div<span class=\"k\">,</span> <span class=\"s\">\"pentaho-selectlist-item\"</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","<span class=\"c\">//      }</span>","      <span class=\"c\">// Wire up interaction</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>div<span class=\"k\">,</span> <span class=\"s\">\"oncontextmenu\"</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>updateSelectionForContextMenu<span class=\"k\">(</span>item<span class=\"k\">.</span>id<span class=\"k\">);</span>","        <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>fieldContextMenuCallback<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>fieldContextMenuCallback<span class=\"k\">(</span>event<span class=\"k\">);</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span><span class=\"k\">));</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>div<span class=\"k\">,</span> <span class=\"s\">'ondblclick'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>doubleClickCallback<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>doubleClickCallback<span class=\"k\">(</span>item<span class=\"k\">.</span>id<span class=\"k\">);</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span><span class=\"k\">));</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>div<span class=\"k\">,</span> <span class=\"s\">'onmouseover'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>onFieldMouseOver<span class=\"k\">(</span>event<span class=\"k\">);</span>","      <span class=\"k\">}</span><span class=\"k\">));</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>div<span class=\"k\">,</span> <span class=\"s\">'onmouseout'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>onFieldMouseOut<span class=\"k\">(</span>event<span class=\"k\">);</span>","      <span class=\"k\">}</span><span class=\"k\">));</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>connectHandles<span class=\"k\">.</span>push<span class=\"k\">(</span>dojo<span class=\"k\">.</span>connect<span class=\"k\">(</span>div<span class=\"k\">,</span> <span class=\"s\">'onclick'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>onFieldClick<span class=\"k\">(</span>event<span class=\"k\">);</span>","      <span class=\"k\">}</span><span class=\"k\">));</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> <span class=\"k\">{</span>node<span class=\"k\">:</span> div<span class=\"k\">,</span> data<span class=\"k\">:</span> item<span class=\"k\">,</span> type<span class=\"k\">:</span> <span class=\"k\">[</span><span class=\"s\">\"pentaho-listitem\"</span><span class=\"k\">]</span><span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"c\">//    return {node: div, data: item, type: [\"treenode-leaf-label\"]};</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  onMouseDown<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>current <span class=\"k\">=</span> e<span class=\"k\">.</span>target<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>onMouseDown<span class=\"k\">(</span>e<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  onMouseUp<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>current <span class=\"k\">=</span> e<span class=\"k\">.</span>target<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>onMouseUp<span class=\"k\">(</span>e<span class=\"k\">);</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  onFieldClick<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","    event<span class=\"k\">.</span>target<span class=\"k\">.</span>itemId <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>idMap<span class=\"k\">[</span>event<span class=\"k\">.</span>target<span class=\"k\">.</span>id<span class=\"k\">];</span>","    <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selector <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>onClick<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>onClick<span class=\"k\">(</span>event<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>clickCallback<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>clickCallback<span class=\"k\">(</span>event<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  onFieldMouseOver<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>onMouseOver<span class=\"k\">(</span>event<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span><span class=\"k\">(!</span>dojo<span class=\"k\">.</span>hasClass<span class=\"k\">(</span>event<span class=\"k\">.</span>target<span class=\"k\">,</span><span class=\"s\">'pentaho-listitem-selected'</span><span class=\"k\">))</span> <span class=\"k\">{</span>","        dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>event<span class=\"k\">.</span>target<span class=\"k\">,</span> <span class=\"s\">'pentaho-listitem-hover'</span><span class=\"k\">);</span>","        dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>event<span class=\"k\">.</span>target<span class=\"k\">,</span> <span class=\"s\">'pentaho-listitem'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  onFieldMouseOut<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>onMouseOut<span class=\"k\">(</span>event<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span><span class=\"k\">(!</span>dojo<span class=\"k\">.</span>hasClass<span class=\"k\">(</span>event<span class=\"k\">.</span>target<span class=\"k\">,</span><span class=\"s\">'pentaho-listitem-selected'</span><span class=\"k\">))</span> <span class=\"k\">{</span>","        dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>event<span class=\"k\">.</span>target<span class=\"k\">,</span> <span class=\"s\">'pentaho-listitem'</span><span class=\"k\">);</span>","        dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>event<span class=\"k\">.</span>target<span class=\"k\">,</span> <span class=\"s\">'pentaho-listitem-hover'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","        dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>event<span class=\"k\">.</span>target<span class=\"k\">,</span> <span class=\"s\">'pentaho-listitem-hover'</span><span class=\"k\">);</span>","        dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>event<span class=\"k\">.</span>target<span class=\"k\">,</span> <span class=\"s\">'pentaho-listitem-selected'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  _elementComparator<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span> b<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>a<span class=\"k\">.</span>name <span class=\"k\">&lt;</span> b<span class=\"k\">.</span>name<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>a<span class=\"k\">.</span>name <span class=\"k\">==</span> b<span class=\"k\">.</span>name<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"s\">1</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  setSelectedIndex<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>idx<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>clearSelection<span class=\"k\">();</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> idx <span class=\"k\">&lt;</span> <span class=\"s\">0</span> <span class=\"k\">||</span> idx <span class=\"k\">&gt;=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">var</span> id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>sanitizeIdAndClassNames<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>idx<span class=\"k\">].</span>id<span class=\"k\">);</span>","    <span class=\"k\">var</span> node <span class=\"k\">=</span> dojo<span class=\"k\">.</span>byId<span class=\"k\">(</span>id<span class=\"k\">);</span>","    <span class=\"c\">// Logic borrowed from dojo.dnd.Selector.selectAll</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>_addItemClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">\"Anchor\"</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>_addItemClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">\"pentaho-listitem-selected\"</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>selection<span class=\"k\">[</span>id<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  <span class=\"c\">/**</span>","<span class=\"c\">   * If the item we invoked the context menu over is not selected make it the only selection.</span>","<span class=\"c\">   */</span>","  updateSelectionForContextMenu<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>id<span class=\"k\">)</span> <span class=\"k\">{</span>","<span class=\"c\">//alert(id);</span>","    <span class=\"k\">var</span> selected <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>forInSelectedItems<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>item<span class=\"k\">,</span> id<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">if</span> <span class=\"k\">(</span>item<span class=\"k\">.</span>data<span class=\"k\">.</span>id <span class=\"k\">===</span> id<span class=\"k\">)</span> <span class=\"k\">{</span>","        selected <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","<span class=\"c\">//    var id = \"field-\" + id;</span>","    <span class=\"k\">var</span> saneId <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>sanitizeIdAndClassNames<span class=\"k\">(</span>id<span class=\"k\">);</span>","    <span class=\"k\">var</span> node <span class=\"k\">=</span> dojo<span class=\"k\">.</span>byId<span class=\"k\">(</span>saneId<span class=\"k\">);</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>selected<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>clearSelection<span class=\"k\">();</span>","      <span class=\"c\">// Logic borrowed from dojo.dnd.Selector.selectAll</span>","      <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>dndObj <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>dndObj<span class=\"k\">.</span>_addItemClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">\"Anchor\"</span><span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>dndObj<span class=\"k\">.</span>selection<span class=\"k\">[</span>saneId<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","      <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>_addItemClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">\"Anchor\"</span><span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>selection<span class=\"k\">[</span>saneId<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"c\">// Update anchor</span>","<span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>dndObj<span class=\"k\">.</span>anchor<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>dndObj<span class=\"k\">.</span>_addItemClass<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>dndObj<span class=\"k\">.</span>anchor<span class=\"k\">,</span> <span class=\"s\">\"pentaho-listitem-selected\"</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>dndObj<span class=\"k\">.</span>_removeAnchor<span class=\"k\">();</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>dndObj<span class=\"k\">.</span>_addItemClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">\"Anchor\"</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>dndObj<span class=\"k\">.</span>anchor <span class=\"k\">=</span> node<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  getSelectedItems<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">var</span> items <span class=\"k\">=</span> <span class=\"k\">[];</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>forInSelectedItems<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span>item<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> item <span class=\"k\">)</span> <span class=\"k\">{</span>","          items<span class=\"k\">.</span>push<span class=\"k\">(</span>item<span class=\"k\">.</span>data<span class=\"k\">);</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">);</span>","      <span class=\"k\">return</span> items<span class=\"k\">;</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","","  clearSelection<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>selector<span class=\"k\">.</span>selectNone<span class=\"k\">();</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  setContextMenu<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> fieldContextMenu <span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>fieldContextMenu <span class=\"k\">=</span> fieldContextMenu<span class=\"k\">;</span>","  <span class=\"k\">}</span><span class=\"k\">,</span>","  ","  expandCollapseCategory<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>eventElement<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> categoryId <span class=\"k\">=</span> dojo<span class=\"k\">.</span>attr<span class=\"k\">(</span>eventElement<span class=\"k\">.</span>target<span class=\"k\">,</span> <span class=\"s\">\"categoryId\"</span><span class=\"k\">);</span>","    <span class=\"k\">var</span> node <span class=\"k\">=</span> dojo<span class=\"k\">.</span>byId<span class=\"k\">(</span>categoryId <span class=\"k\">+</span> <span class=\"s\">\"-fields\"</span><span class=\"k\">);</span>","    <span class=\"k\">var</span> indicatorNode <span class=\"k\">=</span> dojo<span class=\"k\">.</span>byId<span class=\"k\">(</span>categoryId<span class=\"k\">);</span>","    <span class=\"k\">var</span> collapsed <span class=\"k\">=</span> dojo<span class=\"k\">.</span>attr<span class=\"k\">(</span>indicatorNode<span class=\"k\">,</span> <span class=\"s\">\"collapsed\"</span><span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"s\">\"true\"</span><span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>folderStyle <span class=\"k\">)</span> <span class=\"k\">{</span>","        dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>indicatorNode<span class=\"k\">,</span><span class=\"s\">'folder-closed'</span><span class=\"k\">);</span>","        dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>indicatorNode<span class=\"k\">,</span><span class=\"s\">'folder-open'</span><span class=\"k\">);</span>","      <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","        dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>indicatorNode<span class=\"k\">,</span><span class=\"s\">'treenode-closed'</span><span class=\"k\">);</span>","        dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>indicatorNode<span class=\"k\">,</span><span class=\"s\">'treenode-open'</span><span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","      <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>folderStyle <span class=\"k\">)</span> <span class=\"k\">{</span>","        dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>indicatorNode<span class=\"k\">,</span><span class=\"s\">'folder-open'</span><span class=\"k\">);</span>","        dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>indicatorNode<span class=\"k\">,</span><span class=\"s\">'folder-closed'</span><span class=\"k\">);</span>","      <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","        dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>indicatorNode<span class=\"k\">,</span><span class=\"s\">'treenode-open'</span><span class=\"k\">);</span>","        dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>indicatorNode<span class=\"k\">,</span><span class=\"s\">'treenode-closed'</span><span class=\"k\">);</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    dojo<span class=\"k\">.</span>attr<span class=\"k\">(</span>indicatorNode<span class=\"k\">,</span> <span class=\"s\">\"collapsed\"</span><span class=\"k\">,</span> <span class=\"s\">\"\"</span> <span class=\"k\">+</span> collapsed<span class=\"k\">);</span>","","    <span class=\"k\">if</span> <span class=\"k\">(</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","      dojo<span class=\"k\">.</span>addClass<span class=\"k\">(</span>node<span class=\"k\">,</span><span class=\"s\">\"hidden\"</span><span class=\"k\">);</span>","    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","      dojo<span class=\"k\">.</span>removeClass<span class=\"k\">(</span>node<span class=\"k\">,</span><span class=\"s\">\"hidden\"</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    ","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>expandCollapseCategoryCallback<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>expandCollapseCategoryCallback<span class=\"k\">(</span>collapsed<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  ","  ","<span class=\"k\">}</span><span class=\"k\">);</span>"];
_$jscoverage['dojo/pentaho/common/SelectList.js'][1]++;
dojo.provide("pentaho.common.SelectList");
_$jscoverage['dojo/pentaho/common/SelectList.js'][2]++;
dojo.require("dojo.dnd.Selector");
_$jscoverage['dojo/pentaho/common/SelectList.js'][3]++;
dojo.require("dojox.html.entities");
_$jscoverage['dojo/pentaho/common/SelectList.js'][8]++;
dojo.declare("pentaho.common.SelectList", [dijit._Widget, dijit._Templated], {templateString: "<div dojoAttachPoint=\"containerNode\" class=\"pentaho-listbox\"></div>", connectHandles: [], singleSelect: false, getLocaleString: undefined, idMap: {}, items: [], folderStyle: true, fieldContextMenuCallback: null, sanitizeIdAndClassNames: (function (name) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][22]++;
  return dojox.html.entities.encode(name).replace(/ /g, "_");
}), clear: (function () {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][26]++;
  dojo.forEach(this.connectHandles, (function (handle) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][27]++;
  dojo.disconnect(handle);
}));
  _$jscoverage['dojo/pentaho/common/SelectList.js'][29]++;
  this.connectHandles = [];
  _$jscoverage['dojo/pentaho/common/SelectList.js'][30]++;
  dojo.empty(this.containerNode);
}), init: (function () {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][34]++;
  this.fieldContextMenuCallback = this._fieldContextMenuCallback;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][36]++;
  this.selector = new (dojo.dnd.Selector)(this.containerNode, {"copyOnly": true, "accept": "", "selfAccept": false, "singular": this.singleSelect, "creator": dojo.hitch(this, this._dndItemCreator)});
  _$jscoverage['dojo/pentaho/common/SelectList.js'][44]++;
  this.selector._addItemClass = this._addItemClass;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][45]++;
  this.selector._removeItemClass = this._removeItemClass;
}), _fieldContextMenuCallback: (function fieldContextMenuShow(event) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][54]++;
  if ((! this.fieldContextMenu)) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][55]++;
    return;
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][57]++;
  dojo.stopEvent(event);
  _$jscoverage['dojo/pentaho/common/SelectList.js'][58]++;
  var x = event.pageX;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][59]++;
  var y = event.pageY;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][60]++;
  this.fieldContextMenu._scheduleOpen(event.target, null, {x: x, y: y});
}), doubleClickCallback: undefined, clickCallback: undefined, selector: undefined, textSelectionDisabler: (function (target) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][84]++;
  if (((typeof target.onselectstart) != "undefined")) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][85]++;
    this.connectHandles.push(dojo.connect(target, "onselectstart", (function () {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][85]++;
  return false;
})));
  }
  else {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][87]++;
    if (((typeof target.style.MozUserSelect) != "undefined")) {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][88]++;
      target.style.MozUserSelect = "none";
    }
    else {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][90]++;
      this.connectHandles.push(this.connect(target, "onmousedown", (function () {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][90]++;
  return false;
})));
    }
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][92]++;
  target.style.cursor = "default";
}), registerLocalizationLookup: (function (f) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][96]++;
  this.getLocaleString = f;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][97]++;
  this._localize();
}), registerTextSelectionDisabler: (function (f) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][101]++;
  this.textSelectionDisabler = f;
}), registerFieldContextMenuCallback: (function (f) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][105]++;
  this.fieldContextMenuCallback = f;
}), registerDoubleClickCallback: (function (f) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][109]++;
  this.doubleClickCallback = f;
}), registerClickCallback: (function (f) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][113]++;
  this.clickCallback = f;
}), _localize: (function () {
}), _addItemClass: (function (node, type) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][126]++;
  dojo.addClass(node, ("dojoDndItem" + type));
  _$jscoverage['dojo/pentaho/common/SelectList.js'][127]++;
  if (((type == "Selected") || (type == "Anchor"))) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][128]++;
    dojo.addClass(node, "pentaho-listitem-selected");
    _$jscoverage['dojo/pentaho/common/SelectList.js'][129]++;
    dojo.removeClass(node, "pentaho-listitem-hover");
  }
}), _removeItemClass: (function (node, type) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][140]++;
  dojo.removeClass(node, ("dojoDndItem" + type));
  _$jscoverage['dojo/pentaho/common/SelectList.js'][141]++;
  if (((type == "Selected") || (type == "Anchor"))) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][142]++;
    dojo.removeClass(node, "pentaho-listitem-selected");
    _$jscoverage['dojo/pentaho/common/SelectList.js'][143]++;
    dojo.removeClass(node, "pentaho-listitem-hover");
  }
}), addItems: (function (items) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][148]++;
  this.items = items;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][149]++;
  var parent = this.containerNode;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][153]++;
  for (var idx = 0; (idx < items.length); (idx++)) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][154]++;
    var item = items[idx];
    _$jscoverage['dojo/pentaho/common/SelectList.js'][155]++;
    if (item.children) {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][157]++;
      var saneId = this.sanitizeIdAndClassNames(item.id);
      _$jscoverage['dojo/pentaho/common/SelectList.js'][158]++;
      var options = {"id": saneId, "class": "pentaho-selectlist-container", "categoryId": saneId, "collapsed": "true"};
      _$jscoverage['dojo/pentaho/common/SelectList.js'][164]++;
      var categoryDiv = dojo.create("div", options, this.containerNode);
      _$jscoverage['dojo/pentaho/common/SelectList.js'][165]++;
      if (this.folderStyle) {
        _$jscoverage['dojo/pentaho/common/SelectList.js'][166]++;
        dojo.addClass(categoryDiv, "categoryIndicator");
        _$jscoverage['dojo/pentaho/common/SelectList.js'][167]++;
        if ((options.collapsed == "true")) {
          _$jscoverage['dojo/pentaho/common/SelectList.js'][168]++;
          dojo.addClass(categoryDiv, "folder-closed");
        }
        else {
          _$jscoverage['dojo/pentaho/common/SelectList.js'][170]++;
          dojo.addClass(categoryDiv, "folder-open");
        }
      }
      _$jscoverage['dojo/pentaho/common/SelectList.js'][174]++;
      var categoryNameSpan = dojo.create("span", {"id": (saneId + "-span"), "class": "treenode-branch-label", "innerHTML": item.label, "categoryId": saneId}, categoryDiv);
      _$jscoverage['dojo/pentaho/common/SelectList.js'][181]++;
      this.textSelectionDisabler(categoryNameSpan);
      _$jscoverage['dojo/pentaho/common/SelectList.js'][182]++;
      this.textSelectionDisabler(categoryDiv);
      _$jscoverage['dojo/pentaho/common/SelectList.js'][184]++;
      this.connectHandles.push(dojo.connect(categoryDiv, "onclick", this, this.expandCollapseCategory));
      _$jscoverage['dojo/pentaho/common/SelectList.js'][185]++;
      this.connectHandles.push(dojo.connect(categoryNameSpan, "ondblclick", this, this.expandCollapseCategory));
      _$jscoverage['dojo/pentaho/common/SelectList.js'][186]++;
      this.connectHandles.push(dojo.connect(categoryDiv, "oncontextmenu", this, (function (event) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][187]++;
  this.updateSelectionForContextMenu(saneId);
  _$jscoverage['dojo/pentaho/common/SelectList.js'][188]++;
  if (this.fieldContextMenuCallback) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][189]++;
    this.fieldContextMenuCallback(event);
  }
})));
      _$jscoverage['dojo/pentaho/common/SelectList.js'][192]++;
      this.connectHandles.push(dojo.connect(categoryNameSpan, "oncontextmenu", this, (function (event) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][193]++;
  this.updateSelectionForContextMenu(saneId);
  _$jscoverage['dojo/pentaho/common/SelectList.js'][194]++;
  if (this.fieldContextMenuCallback) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][195]++;
    this.fieldContextMenuCallback(event);
  }
})));
      _$jscoverage['dojo/pentaho/common/SelectList.js'][200]++;
      var categoryFieldsDiv = dojo.create("div", {"id": (saneId + "-fields"), "class": ((options.collapsed == "true")? "hidden": "")}, categoryDiv);
      _$jscoverage['dojo/pentaho/common/SelectList.js'][205]++;
      for (kidIdx = 0; (kidIdx < item.children.length); (kidIdx++)) {
        _$jscoverage['dojo/pentaho/common/SelectList.js'][206]++;
        this.addItem(item.children[kidIdx], categoryFieldsDiv, true);
}
    }
    else {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][209]++;
      this.addItem(item, parent, false);
    }
}
}), addItem: (function (item, parent, indented) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][215]++;
  var x = this._dndItemCreator(item, "");
  _$jscoverage['dojo/pentaho/common/SelectList.js'][216]++;
  if (indented) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][217]++;
    dojo.addClass(x.node, "pentaho-selectlist-item-indent");
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][219]++;
  parent.appendChild(x.node);
  _$jscoverage['dojo/pentaho/common/SelectList.js'][220]++;
  this.idMap[this.sanitizeIdAndClassNames(item.id)] = item.id;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][221]++;
  this.selector.setItem(this.sanitizeIdAndClassNames(item.id), {"data": item, "type": item.type, "itemId": item.itemId});
  _$jscoverage['dojo/pentaho/common/SelectList.js'][222]++;
  this.connectHandles.push(dojo.connect(x.node, "onmousedown", this, this.onMouseDown));
  _$jscoverage['dojo/pentaho/common/SelectList.js'][223]++;
  this.connectHandles.push(dojo.connect(x.node, "onmouseup", this, this.onMouseUp));
}), _dndItemCreator: (function (item, hint) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][227]++;
  var props = {"id": this.sanitizeIdAndClassNames(item.id), "innerHTML": item.label, "itemId": item.id, "class": item.type};
  _$jscoverage['dojo/pentaho/common/SelectList.js'][233]++;
  if ((! props["class"])) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][234]++;
    props["class"] = "pentaho-selectlist-item";
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][237]++;
  if (item.title) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][238]++;
    props.title = item.title;
  }
  else {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][239]++;
    if (item.label) {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][240]++;
      props.title = item.label;
    }
    else {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][242]++;
      props.title = item.id;
    }
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][244]++;
  var div = dojo.create("div", props);
  _$jscoverage['dojo/pentaho/common/SelectList.js'][245]++;
  if ((hint === "avatar")) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][246]++;
    dojo.addClass(div, "dragDropAvatar");
  }
  else {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][248]++;
    dojo.addClass(div, "field");
    _$jscoverage['dojo/pentaho/common/SelectList.js'][250]++;
    dojo.addClass(div, "pentaho-listitem");
    _$jscoverage['dojo/pentaho/common/SelectList.js'][254]++;
    if (item.hasIcon) {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][255]++;
      dojo.addClass(div, "pentaho-selectlist-item-icon");
    }
    else {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][257]++;
      dojo.addClass(div, "pentaho-selectlist-item");
    }
    _$jscoverage['dojo/pentaho/common/SelectList.js'][261]++;
    this.connectHandles.push(dojo.connect(div, "oncontextmenu", this, (function (event) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][262]++;
  this.updateSelectionForContextMenu(item.id);
  _$jscoverage['dojo/pentaho/common/SelectList.js'][263]++;
  if (this.fieldContextMenuCallback) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][264]++;
    this.fieldContextMenuCallback(event);
  }
})));
    _$jscoverage['dojo/pentaho/common/SelectList.js'][267]++;
    this.connectHandles.push(dojo.connect(div, "ondblclick", this, (function (event) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][268]++;
  if (this.doubleClickCallback) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][269]++;
    this.doubleClickCallback(item.id);
  }
})));
    _$jscoverage['dojo/pentaho/common/SelectList.js'][272]++;
    this.connectHandles.push(dojo.connect(div, "onmouseover", this, (function (event) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][273]++;
  this.onFieldMouseOver(event);
})));
    _$jscoverage['dojo/pentaho/common/SelectList.js'][275]++;
    this.connectHandles.push(dojo.connect(div, "onmouseout", this, (function (event) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][276]++;
  this.onFieldMouseOut(event);
})));
    _$jscoverage['dojo/pentaho/common/SelectList.js'][278]++;
    this.connectHandles.push(dojo.connect(div, "onclick", this, (function (event) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][279]++;
  this.onFieldClick(event);
})));
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][282]++;
  return ({node: div, data: item, type: ["pentaho-listitem"]});
}), onMouseDown: (function (e) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][287]++;
  this.selector.current = e.target;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][288]++;
  this.selector.onMouseDown(e);
}), onMouseUp: (function (e) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][292]++;
  this.selector.current = e.target;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][293]++;
  this.selector.onMouseUp(e);
}), onFieldClick: (function (event) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][297]++;
  event.target.itemId = this.idMap[event.target.id];
  _$jscoverage['dojo/pentaho/common/SelectList.js'][298]++;
  if ((this.selector && this.selector.onClick)) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][299]++;
    this.selector.onClick(event);
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][301]++;
  if (this.clickCallback) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][302]++;
    this.clickCallback(event);
  }
}), onFieldMouseOver: (function (event) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][307]++;
  if (this.selector) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][308]++;
    this.selector.onMouseOver(event);
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][310]++;
  if ((! dojo.hasClass(event.target, "pentaho-listitem-selected"))) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][311]++;
    dojo.addClass(event.target, "pentaho-listitem-hover");
    _$jscoverage['dojo/pentaho/common/SelectList.js'][312]++;
    dojo.removeClass(event.target, "pentaho-listitem");
  }
}), onFieldMouseOut: (function (event) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][317]++;
  if (this.selector) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][318]++;
    this.selector.onMouseOut(event);
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][320]++;
  if ((! dojo.hasClass(event.target, "pentaho-listitem-selected"))) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][321]++;
    dojo.addClass(event.target, "pentaho-listitem");
    _$jscoverage['dojo/pentaho/common/SelectList.js'][322]++;
    dojo.removeClass(event.target, "pentaho-listitem-hover");
  }
  else {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][324]++;
    dojo.removeClass(event.target, "pentaho-listitem-hover");
    _$jscoverage['dojo/pentaho/common/SelectList.js'][325]++;
    dojo.addClass(event.target, "pentaho-listitem-selected");
  }
}), _elementComparator: (function (a, b) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][330]++;
  if ((a.name < b.name)) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][331]++;
    return -1;
  }
  else {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][332]++;
    if ((a.name == b.name)) {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][333]++;
      return 0;
    }
    else {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][335]++;
      return 1;
    }
  }
}), setSelectedIndex: (function (idx) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][340]++;
  this.clearSelection();
  _$jscoverage['dojo/pentaho/common/SelectList.js'][341]++;
  if (((idx < 0) || (idx >= this.items.length))) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][342]++;
    return;
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][344]++;
  var id = this.sanitizeIdAndClassNames(this.items[idx].id);
  _$jscoverage['dojo/pentaho/common/SelectList.js'][345]++;
  var node = dojo.byId(id);
  _$jscoverage['dojo/pentaho/common/SelectList.js'][347]++;
  this.selector._addItemClass(node, "Anchor");
  _$jscoverage['dojo/pentaho/common/SelectList.js'][348]++;
  this.selector._addItemClass(node, "pentaho-listitem-selected");
  _$jscoverage['dojo/pentaho/common/SelectList.js'][349]++;
  this.selector.selection[id] = 1;
}), updateSelectionForContextMenu: (function (id) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][357]++;
  var selected = false;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][358]++;
  this.selector.forInSelectedItems((function (item, id) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][359]++;
  if ((item.data.id === id)) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][360]++;
    selected = true;
  }
}));
  _$jscoverage['dojo/pentaho/common/SelectList.js'][365]++;
  var saneId = this.sanitizeIdAndClassNames(id);
  _$jscoverage['dojo/pentaho/common/SelectList.js'][366]++;
  var node = dojo.byId(saneId);
  _$jscoverage['dojo/pentaho/common/SelectList.js'][367]++;
  if ((! selected)) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][368]++;
    this.clearSelection();
    _$jscoverage['dojo/pentaho/common/SelectList.js'][370]++;
    if (this.dndObj) {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][371]++;
      this.dndObj._addItemClass(node, "Anchor");
      _$jscoverage['dojo/pentaho/common/SelectList.js'][372]++;
      this.dndObj.selection[saneId] = 1;
    }
    else {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][374]++;
      this.selector._addItemClass(node, "Anchor");
      _$jscoverage['dojo/pentaho/common/SelectList.js'][375]++;
      this.selector.selection[saneId] = 1;
    }
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][379]++;
  return;
  _$jscoverage['dojo/pentaho/common/SelectList.js'][380]++;
  if (this.dndObj.anchor) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][381]++;
    this.dndObj._addItemClass(this.dndObj.anchor, "pentaho-listitem-selected");
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][383]++;
  this.dndObj._removeAnchor();
  _$jscoverage['dojo/pentaho/common/SelectList.js'][384]++;
  this.dndObj._addItemClass(node, "Anchor");
  _$jscoverage['dojo/pentaho/common/SelectList.js'][385]++;
  this.dndObj.anchor = node;
}), getSelectedItems: (function () {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][389]++;
  if (this.selector) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][390]++;
    var items = [];
    _$jscoverage['dojo/pentaho/common/SelectList.js'][391]++;
    this.selector.forInSelectedItems((function (item) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][392]++;
  if (item) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][393]++;
    items.push(item.data);
  }
}), this);
    _$jscoverage['dojo/pentaho/common/SelectList.js'][396]++;
    return items;
  }
}), clearSelection: (function () {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][401]++;
  if (this.selector) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][402]++;
    this.selector.selectNone();
  }
}), setContextMenu: (function (fieldContextMenu) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][407]++;
  this.fieldContextMenu = fieldContextMenu;
}), expandCollapseCategory: (function (eventElement) {
  _$jscoverage['dojo/pentaho/common/SelectList.js'][411]++;
  var categoryId = dojo.attr(eventElement.target, "categoryId");
  _$jscoverage['dojo/pentaho/common/SelectList.js'][412]++;
  var node = dojo.byId((categoryId + "-fields"));
  _$jscoverage['dojo/pentaho/common/SelectList.js'][413]++;
  var indicatorNode = dojo.byId(categoryId);
  _$jscoverage['dojo/pentaho/common/SelectList.js'][414]++;
  var collapsed = (dojo.attr(indicatorNode, "collapsed") != "true");
  _$jscoverage['dojo/pentaho/common/SelectList.js'][415]++;
  if (collapsed) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][416]++;
    if (this.folderStyle) {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][417]++;
      dojo.addClass(indicatorNode, "folder-closed");
      _$jscoverage['dojo/pentaho/common/SelectList.js'][418]++;
      dojo.removeClass(indicatorNode, "folder-open");
    }
    else {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][420]++;
      dojo.addClass(indicatorNode, "treenode-closed");
      _$jscoverage['dojo/pentaho/common/SelectList.js'][421]++;
      dojo.removeClass(indicatorNode, "treenode-open");
    }
  }
  else {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][424]++;
    if (this.folderStyle) {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][425]++;
      dojo.addClass(indicatorNode, "folder-open");
      _$jscoverage['dojo/pentaho/common/SelectList.js'][426]++;
      dojo.removeClass(indicatorNode, "folder-closed");
    }
    else {
      _$jscoverage['dojo/pentaho/common/SelectList.js'][428]++;
      dojo.addClass(indicatorNode, "treenode-open");
      _$jscoverage['dojo/pentaho/common/SelectList.js'][429]++;
      dojo.removeClass(indicatorNode, "treenode-closed");
    }
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][432]++;
  dojo.attr(indicatorNode, "collapsed", ("" + collapsed));
  _$jscoverage['dojo/pentaho/common/SelectList.js'][434]++;
  if (collapsed) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][435]++;
    dojo.addClass(node, "hidden");
  }
  else {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][437]++;
    dojo.removeClass(node, "hidden");
  }
  _$jscoverage['dojo/pentaho/common/SelectList.js'][440]++;
  if (this.expandCollapseCategoryCallback) {
    _$jscoverage['dojo/pentaho/common/SelectList.js'][441]++;
    this.expandCollapseCategoryCallback(collapsed);
  }
})});
