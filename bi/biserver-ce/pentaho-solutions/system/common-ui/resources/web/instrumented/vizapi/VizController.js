/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    _$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (typeof _$jscoverage !== 'object') {
  _$jscoverage = {};
}
if (! _$jscoverage['vizapi/VizController.js']) {
  _$jscoverage['vizapi/VizController.js'] = [];
  _$jscoverage['vizapi/VizController.js'][10] = 0;
  _$jscoverage['vizapi/VizController.js'][15] = 0;
  _$jscoverage['vizapi/VizController.js'][17] = 0;
  _$jscoverage['vizapi/VizController.js'][36] = 0;
  _$jscoverage['vizapi/VizController.js'][54] = 0;
  _$jscoverage['vizapi/VizController.js'][76] = 0;
  _$jscoverage['vizapi/VizController.js'][78] = 0;
  _$jscoverage['vizapi/VizController.js'][79] = 0;
  _$jscoverage['vizapi/VizController.js'][80] = 0;
  _$jscoverage['vizapi/VizController.js'][81] = 0;
  _$jscoverage['vizapi/VizController.js'][84] = 0;
  _$jscoverage['vizapi/VizController.js'][88] = 0;
  _$jscoverage['vizapi/VizController.js'][94] = 0;
  _$jscoverage['vizapi/VizController.js'][95] = 0;
  _$jscoverage['vizapi/VizController.js'][96] = 0;
  _$jscoverage['vizapi/VizController.js'][97] = 0;
  _$jscoverage['vizapi/VizController.js'][98] = 0;
  _$jscoverage['vizapi/VizController.js'][99] = 0;
  _$jscoverage['vizapi/VizController.js'][100] = 0;
  _$jscoverage['vizapi/VizController.js'][101] = 0;
  _$jscoverage['vizapi/VizController.js'][102] = 0;
  _$jscoverage['vizapi/VizController.js'][103] = 0;
  _$jscoverage['vizapi/VizController.js'][104] = 0;
  _$jscoverage['vizapi/VizController.js'][105] = 0;
  _$jscoverage['vizapi/VizController.js'][106] = 0;
  _$jscoverage['vizapi/VizController.js'][107] = 0;
  _$jscoverage['vizapi/VizController.js'][108] = 0;
  _$jscoverage['vizapi/VizController.js'][109] = 0;
  _$jscoverage['vizapi/VizController.js'][110] = 0;
  _$jscoverage['vizapi/VizController.js'][111] = 0;
  _$jscoverage['vizapi/VizController.js'][112] = 0;
  _$jscoverage['vizapi/VizController.js'][113] = 0;
  _$jscoverage['vizapi/VizController.js'][114] = 0;
  _$jscoverage['vizapi/VizController.js'][121] = 0;
  _$jscoverage['vizapi/VizController.js'][122] = 0;
  _$jscoverage['vizapi/VizController.js'][133] = 0;
  _$jscoverage['vizapi/VizController.js'][134] = 0;
  _$jscoverage['vizapi/VizController.js'][135] = 0;
  _$jscoverage['vizapi/VizController.js'][137] = 0;
  _$jscoverage['vizapi/VizController.js'][138] = 0;
  _$jscoverage['vizapi/VizController.js'][139] = 0;
  _$jscoverage['vizapi/VizController.js'][140] = 0;
  _$jscoverage['vizapi/VizController.js'][143] = 0;
  _$jscoverage['vizapi/VizController.js'][145] = 0;
  _$jscoverage['vizapi/VizController.js'][146] = 0;
  _$jscoverage['vizapi/VizController.js'][157] = 0;
  _$jscoverage['vizapi/VizController.js'][158] = 0;
  _$jscoverage['vizapi/VizController.js'][160] = 0;
  _$jscoverage['vizapi/VizController.js'][161] = 0;
  _$jscoverage['vizapi/VizController.js'][162] = 0;
  _$jscoverage['vizapi/VizController.js'][164] = 0;
  _$jscoverage['vizapi/VizController.js'][165] = 0;
  _$jscoverage['vizapi/VizController.js'][168] = 0;
  _$jscoverage['vizapi/VizController.js'][169] = 0;
  _$jscoverage['vizapi/VizController.js'][172] = 0;
  _$jscoverage['vizapi/VizController.js'][174] = 0;
  _$jscoverage['vizapi/VizController.js'][175] = 0;
  _$jscoverage['vizapi/VizController.js'][177] = 0;
  _$jscoverage['vizapi/VizController.js'][178] = 0;
  _$jscoverage['vizapi/VizController.js'][180] = 0;
  _$jscoverage['vizapi/VizController.js'][182] = 0;
  _$jscoverage['vizapi/VizController.js'][183] = 0;
  _$jscoverage['vizapi/VizController.js'][194] = 0;
  _$jscoverage['vizapi/VizController.js'][195] = 0;
  _$jscoverage['vizapi/VizController.js'][196] = 0;
  _$jscoverage['vizapi/VizController.js'][199] = 0;
  _$jscoverage['vizapi/VizController.js'][200] = 0;
  _$jscoverage['vizapi/VizController.js'][204] = 0;
  _$jscoverage['vizapi/VizController.js'][205] = 0;
  _$jscoverage['vizapi/VizController.js'][206] = 0;
  _$jscoverage['vizapi/VizController.js'][207] = 0;
  _$jscoverage['vizapi/VizController.js'][208] = 0;
  _$jscoverage['vizapi/VizController.js'][209] = 0;
  _$jscoverage['vizapi/VizController.js'][210] = 0;
  _$jscoverage['vizapi/VizController.js'][212] = 0;
  _$jscoverage['vizapi/VizController.js'][213] = 0;
  _$jscoverage['vizapi/VizController.js'][224] = 0;
  _$jscoverage['vizapi/VizController.js'][225] = 0;
  _$jscoverage['vizapi/VizController.js'][226] = 0;
  _$jscoverage['vizapi/VizController.js'][227] = 0;
  _$jscoverage['vizapi/VizController.js'][228] = 0;
  _$jscoverage['vizapi/VizController.js'][230] = 0;
  _$jscoverage['vizapi/VizController.js'][231] = 0;
  _$jscoverage['vizapi/VizController.js'][241] = 0;
  _$jscoverage['vizapi/VizController.js'][242] = 0;
  _$jscoverage['vizapi/VizController.js'][252] = 0;
  _$jscoverage['vizapi/VizController.js'][253] = 0;
  _$jscoverage['vizapi/VizController.js'][254] = 0;
  _$jscoverage['vizapi/VizController.js'][256] = 0;
  _$jscoverage['vizapi/VizController.js'][258] = 0;
  _$jscoverage['vizapi/VizController.js'][260] = 0;
  _$jscoverage['vizapi/VizController.js'][261] = 0;
  _$jscoverage['vizapi/VizController.js'][263] = 0;
  _$jscoverage['vizapi/VizController.js'][264] = 0;
  _$jscoverage['vizapi/VizController.js'][274] = 0;
  _$jscoverage['vizapi/VizController.js'][275] = 0;
  _$jscoverage['vizapi/VizController.js'][277] = 0;
  _$jscoverage['vizapi/VizController.js'][278] = 0;
  _$jscoverage['vizapi/VizController.js'][280] = 0;
  _$jscoverage['vizapi/VizController.js'][281] = 0;
  _$jscoverage['vizapi/VizController.js'][283] = 0;
  _$jscoverage['vizapi/VizController.js'][284] = 0;
  _$jscoverage['vizapi/VizController.js'][294] = 0;
  _$jscoverage['vizapi/VizController.js'][295] = 0;
  _$jscoverage['vizapi/VizController.js'][297] = 0;
  _$jscoverage['vizapi/VizController.js'][298] = 0;
  _$jscoverage['vizapi/VizController.js'][300] = 0;
  _$jscoverage['vizapi/VizController.js'][301] = 0;
  _$jscoverage['vizapi/VizController.js'][303] = 0;
  _$jscoverage['vizapi/VizController.js'][306] = 0;
  _$jscoverage['vizapi/VizController.js'][316] = 0;
  _$jscoverage['vizapi/VizController.js'][317] = 0;
  _$jscoverage['vizapi/VizController.js'][319] = 0;
  _$jscoverage['vizapi/VizController.js'][321] = 0;
  _$jscoverage['vizapi/VizController.js'][326] = 0;
  _$jscoverage['vizapi/VizController.js'][327] = 0;
  _$jscoverage['vizapi/VizController.js'][328] = 0;
  _$jscoverage['vizapi/VizController.js'][329] = 0;
  _$jscoverage['vizapi/VizController.js'][330] = 0;
  _$jscoverage['vizapi/VizController.js'][331] = 0;
  _$jscoverage['vizapi/VizController.js'][332] = 0;
  _$jscoverage['vizapi/VizController.js'][334] = 0;
  _$jscoverage['vizapi/VizController.js'][335] = 0;
  _$jscoverage['vizapi/VizController.js'][337] = 0;
  _$jscoverage['vizapi/VizController.js'][338] = 0;
  _$jscoverage['vizapi/VizController.js'][340] = 0;
  _$jscoverage['vizapi/VizController.js'][341] = 0;
  _$jscoverage['vizapi/VizController.js'][342] = 0;
  _$jscoverage['vizapi/VizController.js'][344] = 0;
  _$jscoverage['vizapi/VizController.js'][345] = 0;
  _$jscoverage['vizapi/VizController.js'][347] = 0;
  _$jscoverage['vizapi/VizController.js'][351] = 0;
  _$jscoverage['vizapi/VizController.js'][357] = 0;
  _$jscoverage['vizapi/VizController.js'][358] = 0;
  _$jscoverage['vizapi/VizController.js'][359] = 0;
  _$jscoverage['vizapi/VizController.js'][362] = 0;
  _$jscoverage['vizapi/VizController.js'][363] = 0;
  _$jscoverage['vizapi/VizController.js'][367] = 0;
  _$jscoverage['vizapi/VizController.js'][369] = 0;
  _$jscoverage['vizapi/VizController.js'][372] = 0;
  _$jscoverage['vizapi/VizController.js'][373] = 0;
  _$jscoverage['vizapi/VizController.js'][374] = 0;
  _$jscoverage['vizapi/VizController.js'][375] = 0;
  _$jscoverage['vizapi/VizController.js'][376] = 0;
  _$jscoverage['vizapi/VizController.js'][377] = 0;
  _$jscoverage['vizapi/VizController.js'][382] = 0;
  _$jscoverage['vizapi/VizController.js'][383] = 0;
  _$jscoverage['vizapi/VizController.js'][384] = 0;
  _$jscoverage['vizapi/VizController.js'][385] = 0;
  _$jscoverage['vizapi/VizController.js'][387] = 0;
  _$jscoverage['vizapi/VizController.js'][388] = 0;
  _$jscoverage['vizapi/VizController.js'][389] = 0;
  _$jscoverage['vizapi/VizController.js'][390] = 0;
  _$jscoverage['vizapi/VizController.js'][393] = 0;
  _$jscoverage['vizapi/VizController.js'][394] = 0;
  _$jscoverage['vizapi/VizController.js'][396] = 0;
  _$jscoverage['vizapi/VizController.js'][398] = 0;
  _$jscoverage['vizapi/VizController.js'][399] = 0;
  _$jscoverage['vizapi/VizController.js'][401] = 0;
  _$jscoverage['vizapi/VizController.js'][402] = 0;
  _$jscoverage['vizapi/VizController.js'][410] = 0;
  _$jscoverage['vizapi/VizController.js'][411] = 0;
  _$jscoverage['vizapi/VizController.js'][412] = 0;
  _$jscoverage['vizapi/VizController.js'][415] = 0;
  _$jscoverage['vizapi/VizController.js'][417] = 0;
  _$jscoverage['vizapi/VizController.js'][420] = 0;
  _$jscoverage['vizapi/VizController.js'][421] = 0;
  _$jscoverage['vizapi/VizController.js'][423] = 0;
  _$jscoverage['vizapi/VizController.js'][425] = 0;
  _$jscoverage['vizapi/VizController.js'][428] = 0;
  _$jscoverage['vizapi/VizController.js'][429] = 0;
  _$jscoverage['vizapi/VizController.js'][431] = 0;
  _$jscoverage['vizapi/VizController.js'][432] = 0;
  _$jscoverage['vizapi/VizController.js'][433] = 0;
  _$jscoverage['vizapi/VizController.js'][434] = 0;
  _$jscoverage['vizapi/VizController.js'][435] = 0;
  _$jscoverage['vizapi/VizController.js'][436] = 0;
  _$jscoverage['vizapi/VizController.js'][437] = 0;
  _$jscoverage['vizapi/VizController.js'][439] = 0;
  _$jscoverage['vizapi/VizController.js'][440] = 0;
  _$jscoverage['vizapi/VizController.js'][441] = 0;
  _$jscoverage['vizapi/VizController.js'][442] = 0;
  _$jscoverage['vizapi/VizController.js'][444] = 0;
  _$jscoverage['vizapi/VizController.js'][445] = 0;
  _$jscoverage['vizapi/VizController.js'][446] = 0;
  _$jscoverage['vizapi/VizController.js'][447] = 0;
  _$jscoverage['vizapi/VizController.js'][449] = 0;
  _$jscoverage['vizapi/VizController.js'][450] = 0;
  _$jscoverage['vizapi/VizController.js'][455] = 0;
  _$jscoverage['vizapi/VizController.js'][456] = 0;
  _$jscoverage['vizapi/VizController.js'][458] = 0;
  _$jscoverage['vizapi/VizController.js'][460] = 0;
  _$jscoverage['vizapi/VizController.js'][461] = 0;
  _$jscoverage['vizapi/VizController.js'][462] = 0;
  _$jscoverage['vizapi/VizController.js'][463] = 0;
  _$jscoverage['vizapi/VizController.js'][467] = 0;
  _$jscoverage['vizapi/VizController.js'][471] = 0;
  _$jscoverage['vizapi/VizController.js'][472] = 0;
  _$jscoverage['vizapi/VizController.js'][475] = 0;
  _$jscoverage['vizapi/VizController.js'][477] = 0;
  _$jscoverage['vizapi/VizController.js'][478] = 0;
  _$jscoverage['vizapi/VizController.js'][479] = 0;
  _$jscoverage['vizapi/VizController.js'][480] = 0;
  _$jscoverage['vizapi/VizController.js'][481] = 0;
  _$jscoverage['vizapi/VizController.js'][483] = 0;
  _$jscoverage['vizapi/VizController.js'][485] = 0;
  _$jscoverage['vizapi/VizController.js'][486] = 0;
  _$jscoverage['vizapi/VizController.js'][487] = 0;
  _$jscoverage['vizapi/VizController.js'][489] = 0;
  _$jscoverage['vizapi/VizController.js'][491] = 0;
  _$jscoverage['vizapi/VizController.js'][492] = 0;
  _$jscoverage['vizapi/VizController.js'][493] = 0;
  _$jscoverage['vizapi/VizController.js'][497] = 0;
  _$jscoverage['vizapi/VizController.js'][498] = 0;
  _$jscoverage['vizapi/VizController.js'][499] = 0;
  _$jscoverage['vizapi/VizController.js'][500] = 0;
  _$jscoverage['vizapi/VizController.js'][501] = 0;
  _$jscoverage['vizapi/VizController.js'][502] = 0;
  _$jscoverage['vizapi/VizController.js'][504] = 0;
  _$jscoverage['vizapi/VizController.js'][505] = 0;
  _$jscoverage['vizapi/VizController.js'][506] = 0;
  _$jscoverage['vizapi/VizController.js'][507] = 0;
  _$jscoverage['vizapi/VizController.js'][509] = 0;
  _$jscoverage['vizapi/VizController.js'][510] = 0;
  _$jscoverage['vizapi/VizController.js'][511] = 0;
  _$jscoverage['vizapi/VizController.js'][512] = 0;
  _$jscoverage['vizapi/VizController.js'][514] = 0;
  _$jscoverage['vizapi/VizController.js'][521] = 0;
  _$jscoverage['vizapi/VizController.js'][524] = 0;
  _$jscoverage['vizapi/VizController.js'][525] = 0;
  _$jscoverage['vizapi/VizController.js'][526] = 0;
  _$jscoverage['vizapi/VizController.js'][527] = 0;
  _$jscoverage['vizapi/VizController.js'][528] = 0;
  _$jscoverage['vizapi/VizController.js'][529] = 0;
  _$jscoverage['vizapi/VizController.js'][531] = 0;
  _$jscoverage['vizapi/VizController.js'][532] = 0;
  _$jscoverage['vizapi/VizController.js'][535] = 0;
  _$jscoverage['vizapi/VizController.js'][539] = 0;
  _$jscoverage['vizapi/VizController.js'][541] = 0;
  _$jscoverage['vizapi/VizController.js'][542] = 0;
  _$jscoverage['vizapi/VizController.js'][550] = 0;
  _$jscoverage['vizapi/VizController.js'][552] = 0;
  _$jscoverage['vizapi/VizController.js'][553] = 0;
  _$jscoverage['vizapi/VizController.js'][562] = 0;
  _$jscoverage['vizapi/VizController.js'][563] = 0;
  _$jscoverage['vizapi/VizController.js'][567] = 0;
  _$jscoverage['vizapi/VizController.js'][569] = 0;
  _$jscoverage['vizapi/VizController.js'][570] = 0;
  _$jscoverage['vizapi/VizController.js'][573] = 0;
  _$jscoverage['vizapi/VizController.js'][574] = 0;
  _$jscoverage['vizapi/VizController.js'][577] = 0;
  _$jscoverage['vizapi/VizController.js'][578] = 0;
  _$jscoverage['vizapi/VizController.js'][579] = 0;
  _$jscoverage['vizapi/VizController.js'][580] = 0;
  _$jscoverage['vizapi/VizController.js'][581] = 0;
  _$jscoverage['vizapi/VizController.js'][585] = 0;
  _$jscoverage['vizapi/VizController.js'][586] = 0;
  _$jscoverage['vizapi/VizController.js'][587] = 0;
  _$jscoverage['vizapi/VizController.js'][588] = 0;
  _$jscoverage['vizapi/VizController.js'][590] = 0;
  _$jscoverage['vizapi/VizController.js'][595] = 0;
  _$jscoverage['vizapi/VizController.js'][596] = 0;
  _$jscoverage['vizapi/VizController.js'][597] = 0;
  _$jscoverage['vizapi/VizController.js'][603] = 0;
  _$jscoverage['vizapi/VizController.js'][605] = 0;
  _$jscoverage['vizapi/VizController.js'][606] = 0;
  _$jscoverage['vizapi/VizController.js'][607] = 0;
  _$jscoverage['vizapi/VizController.js'][615] = 0;
  _$jscoverage['vizapi/VizController.js'][616] = 0;
  _$jscoverage['vizapi/VizController.js'][617] = 0;
  _$jscoverage['vizapi/VizController.js'][618] = 0;
  _$jscoverage['vizapi/VizController.js'][621] = 0;
  _$jscoverage['vizapi/VizController.js'][622] = 0;
  _$jscoverage['vizapi/VizController.js'][625] = 0;
  _$jscoverage['vizapi/VizController.js'][633] = 0;
  _$jscoverage['vizapi/VizController.js'][634] = 0;
  _$jscoverage['vizapi/VizController.js'][635] = 0;
  _$jscoverage['vizapi/VizController.js'][637] = 0;
  _$jscoverage['vizapi/VizController.js'][638] = 0;
  _$jscoverage['vizapi/VizController.js'][639] = 0;
  _$jscoverage['vizapi/VizController.js'][640] = 0;
  _$jscoverage['vizapi/VizController.js'][641] = 0;
  _$jscoverage['vizapi/VizController.js'][642] = 0;
  _$jscoverage['vizapi/VizController.js'][650] = 0;
  _$jscoverage['vizapi/VizController.js'][652] = 0;
  _$jscoverage['vizapi/VizController.js'][653] = 0;
  _$jscoverage['vizapi/VizController.js'][655] = 0;
  _$jscoverage['vizapi/VizController.js'][656] = 0;
  _$jscoverage['vizapi/VizController.js'][657] = 0;
  _$jscoverage['vizapi/VizController.js'][659] = 0;
  _$jscoverage['vizapi/VizController.js'][660] = 0;
  _$jscoverage['vizapi/VizController.js'][662] = 0;
  _$jscoverage['vizapi/VizController.js'][663] = 0;
  _$jscoverage['vizapi/VizController.js'][665] = 0;
  _$jscoverage['vizapi/VizController.js'][666] = 0;
  _$jscoverage['vizapi/VizController.js'][668] = 0;
  _$jscoverage['vizapi/VizController.js'][669] = 0;
  _$jscoverage['vizapi/VizController.js'][670] = 0;
  _$jscoverage['vizapi/VizController.js'][672] = 0;
  _$jscoverage['vizapi/VizController.js'][674] = 0;
  _$jscoverage['vizapi/VizController.js'][675] = 0;
  _$jscoverage['vizapi/VizController.js'][676] = 0;
  _$jscoverage['vizapi/VizController.js'][677] = 0;
  _$jscoverage['vizapi/VizController.js'][678] = 0;
  _$jscoverage['vizapi/VizController.js'][681] = 0;
  _$jscoverage['vizapi/VizController.js'][683] = 0;
  _$jscoverage['vizapi/VizController.js'][684] = 0;
  _$jscoverage['vizapi/VizController.js'][687] = 0;
  _$jscoverage['vizapi/VizController.js'][689] = 0;
  _$jscoverage['vizapi/VizController.js'][690] = 0;
  _$jscoverage['vizapi/VizController.js'][693] = 0;
  _$jscoverage['vizapi/VizController.js'][694] = 0;
  _$jscoverage['vizapi/VizController.js'][695] = 0;
  _$jscoverage['vizapi/VizController.js'][697] = 0;
  _$jscoverage['vizapi/VizController.js'][699] = 0;
  _$jscoverage['vizapi/VizController.js'][711] = 0;
  _$jscoverage['vizapi/VizController.js'][712] = 0;
  _$jscoverage['vizapi/VizController.js'][715] = 0;
  _$jscoverage['vizapi/VizController.js'][716] = 0;
  _$jscoverage['vizapi/VizController.js'][717] = 0;
  _$jscoverage['vizapi/VizController.js'][718] = 0;
  _$jscoverage['vizapi/VizController.js'][722] = 0;
  _$jscoverage['vizapi/VizController.js'][723] = 0;
  _$jscoverage['vizapi/VizController.js'][724] = 0;
  _$jscoverage['vizapi/VizController.js'][729] = 0;
}
_$jscoverage['vizapi/VizController.js'].source = ["<span class=\"c\">/*</span>","<span class=\"c\"> pentaho.VizController</span>","","<span class=\"c\"> A controller for visualization objects</span>","","<span class=\"c\"> author: James Dixon</span>","","<span class=\"c\"> */</span>","","pentaho <span class=\"k\">=</span> <span class=\"k\">typeof</span> pentaho <span class=\"k\">==</span> <span class=\"s\">\"undefined\"</span> <span class=\"k\">?</span> <span class=\"k\">{}</span> <span class=\"k\">:</span> pentaho<span class=\"k\">;</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> A list of color palettes that can be used by visualizations</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>palettes <span class=\"k\">=</span> <span class=\"k\">[];</span>","","pentaho<span class=\"k\">.</span>palettes<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"k\">{</span>","      name<span class=\"k\">:</span> <span class=\"s\">'palette 1'</span><span class=\"k\">,</span>","      colors<span class=\"k\">:</span> <span class=\"k\">[</span>","        <span class=\"s\">\"#336699\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#99CCFF\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#999933\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#666699\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#CC9933\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#006666\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#3399FF\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#993300\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#CCCC99\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#666666\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#FFCC66\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#6699CC\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#663366\"</span><span class=\"k\">]</span>","    <span class=\"k\">}</span>","<span class=\"k\">);</span>","","pentaho<span class=\"k\">.</span>palettes<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"k\">{</span>","      name<span class=\"k\">:</span> <span class=\"s\">'palette 2'</span><span class=\"k\">,</span>","      colors<span class=\"k\">:</span> <span class=\"k\">[</span>","        <span class=\"s\">\"#880a0f\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#b09a6b\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#772200\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#c52f0d\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#123d82\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#4a0866\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#ffaa00\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#1e8ad3\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#aa6611\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#772200\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#8b2834\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#333333\"</span><span class=\"k\">]</span>","    <span class=\"k\">}</span>","<span class=\"k\">);</span>","","pentaho<span class=\"k\">.</span>palettes<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"k\">{</span>","      name<span class=\"k\">:</span> <span class=\"s\">'palette 3'</span><span class=\"k\">,</span>","      colors<span class=\"k\">:</span> <span class=\"k\">[</span>","        <span class=\"s\">\"#387179\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#626638\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#A8979A\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#B09A6B\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#772200\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#C52F0D\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#123D82\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#4A0866\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#445500\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#FFAA00\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#1E8AD3\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#AA6611\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"#772200\"</span><span class=\"k\">]</span>","    <span class=\"k\">}</span>","<span class=\"k\">);</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> pentaho.visualizations is an array that visualization metadata objects can be added to</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>visualizations <span class=\"k\">=</span> pentaho<span class=\"k\">.</span>visualizations <span class=\"k\">||</span> <span class=\"k\">[];</span>","","pentaho<span class=\"k\">.</span>visualizations<span class=\"k\">.</span>getById <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>id<span class=\"k\">)</span><span class=\"k\">{</span>","  <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>length <span class=\"k\">;</span> i<span class=\"k\">++)</span><span class=\"k\">{</span>","    <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">[</span>i<span class=\"k\">].</span>id <span class=\"k\">==</span> id<span class=\"k\">)</span><span class=\"k\">{</span>","      <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">[</span>i<span class=\"k\">];</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","","<span class=\"k\">var</span> visualizations <span class=\"k\">=</span> pentaho<span class=\"k\">.</span>visualizations<span class=\"k\">;</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> pentaho.VizController</span>","<span class=\"c\"> The visualization controller</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>id<span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>id <span class=\"k\">=</span> id<span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>domNode <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>isDragging <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>combinations <span class=\"k\">=</span> <span class=\"k\">[];</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>selections <span class=\"k\">=</span> <span class=\"k\">[];</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>highlights <span class=\"k\">=</span> <span class=\"k\">[];</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>metrics <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>origTable <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>dataTable <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>currentViz <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>currentAction <span class=\"k\">=</span> <span class=\"s\">'select'</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>layoutPanelElement <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>layoutPanel <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>visualPanelElement <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>layoutShown <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>toolbarElement <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>title <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>chart <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>palette <span class=\"k\">=</span> pentaho<span class=\"k\">.</span>palettes<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>lastError <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> getError</span>","<span class=\"c\"> Returns the most recent Javascript error object</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getError <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","  <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>lastError<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> getState</span>","<span class=\"c\"> Returns the state of the controller and the current visualiztion.</span>","<span class=\"c\"> {</span>","<span class=\"c\"> vizId: 'some id', // the id of the visualization</span>","<span class=\"c\"> vizState: {} // the state object from the visualization</span>","<span class=\"c\"> }</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getState <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","  <span class=\"k\">try</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> state <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","    <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentViz <span class=\"k\">)</span> <span class=\"k\">{</span>","      state<span class=\"k\">.</span>vizId <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentViz<span class=\"k\">.</span>id<span class=\"k\">;</span>","      <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>getState <span class=\"k\">)</span> <span class=\"k\">{</span>","        state<span class=\"k\">.</span>vizState <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>getState<span class=\"k\">();</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> state<span class=\"k\">;</span>","  <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>lastError <span class=\"k\">=</span> e<span class=\"k\">;</span>","    <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> setState</span>","<span class=\"c\"> Sets the state of the controller and the visualization</span>","","<span class=\"c\"> state       A state object</span>","<span class=\"c\"> returns     true if there were no errors</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>setState <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>state<span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">try</span> <span class=\"k\">{</span>","    <span class=\"c\">// find the visualization</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>currentViz <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentViz<span class=\"k\">.</span>id <span class=\"k\">!=</span> state<span class=\"k\">.</span>vizId <span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> idx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> idx<span class=\"k\">&lt;</span>pentaho<span class=\"k\">.</span>visualizations<span class=\"k\">.</span>length<span class=\"k\">;</span> idx<span class=\"k\">++)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> pentaho<span class=\"k\">.</span>visualizations<span class=\"k\">[</span>idx<span class=\"k\">].</span>id <span class=\"k\">==</span> state<span class=\"k\">.</span>id<span class=\"k\">)</span> <span class=\"k\">{</span>","          <span class=\"c\">// we found a visualization with the specified id</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>currentViz <span class=\"k\">=</span> pentaho<span class=\"k\">.</span>visualizations<span class=\"k\">[</span>idx<span class=\"k\">];</span>","          <span class=\"k\">break</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","      <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>currentViz <span class=\"k\">)</span> <span class=\"k\">{</span>","        alert<span class=\"k\">(</span><span class=\"s\">'Visualization not found: '</span><span class=\"k\">+</span>state<span class=\"k\">.</span>vizId<span class=\"k\">);</span>","      <span class=\"k\">}</span>","      <span class=\"c\">// set the state of the visualization</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>setVisualization<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>currentViz<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">delete</span> state<span class=\"k\">.</span>dataReqs<span class=\"k\">;</span>","    dojo<span class=\"k\">.</span>safeMixin<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>currentViz<span class=\"k\">,</span> state<span class=\"k\">);</span>","","    <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>chart <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>setState <span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>setState<span class=\"k\">(</span> state<span class=\"k\">.</span>vizState <span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","  <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>lastError <span class=\"k\">=</span> e<span class=\"k\">;</span>","    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> setDomNode</span>","<span class=\"c\"> Sets the HTML DOM node that the visualization needs to render inside</span>","","<span class=\"c\"> node    HTML DOM element</span>","<span class=\"c\"> returns     true if there were no errors</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>setDomNode <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">try</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>domNode <span class=\"k\">=</span> node<span class=\"k\">;</span>","","    <span class=\"c\">// Empty out the node</span>","    <span class=\"k\">while</span><span class=\"k\">(</span>node<span class=\"k\">.</span>firstChild<span class=\"k\">)</span> <span class=\"k\">{</span>","      node<span class=\"k\">.</span>removeChild<span class=\"k\">(</span>node<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">// Create an empty DIV for the visualization to render in</span>","    <span class=\"k\">var</span> width <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>domNode<span class=\"k\">.</span>offsetWidth<span class=\"k\">;</span>","    <span class=\"k\">var</span> height <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>domNode<span class=\"k\">.</span>offsetHeight<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>visualPanelElement <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"DIV\"</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>visualPanelElement<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">'id'</span><span class=\"k\">,</span> <span class=\"s\">'visualPanelElement-'</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>id<span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>visualPanelElement<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">'style'</span><span class=\"k\">,</span><span class=\"s\">'border:0px solid #red; background-color: white; width: '</span><span class=\"k\">+(</span>width<span class=\"k\">)+</span><span class=\"s\">'px; height: '</span><span class=\"k\">+(</span>height<span class=\"k\">)+</span><span class=\"s\">'px'</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>domNode<span class=\"k\">.</span>appendChild<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>visualPanelElement<span class=\"k\">);</span>","    <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","  <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>lastError <span class=\"k\">=</span> e<span class=\"k\">;</span>","    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> setDataTable</span>","<span class=\"c\"> Sets the DataTable (pentaho.DataTable) for the visualization</span>","","<span class=\"c\"> table       A DataTable object</span>","<span class=\"c\"> returns     true if there were no errors</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>setDataTable <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>table<span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">try</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>origTable <span class=\"k\">=</span> table<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>setupTable<span class=\"k\">();</span>","    <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","  <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>lastError <span class=\"k\">=</span> e<span class=\"k\">;</span>","    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> setTitle</span>","<span class=\"c\"> Sets the title that the visualization should display</span>","","<span class=\"c\"> title   The title to display</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>setTitle <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>title<span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>title <span class=\"k\">=</span> title<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> setVisualization</span>","<span class=\"c\"> Sets the visualization to display</span>","","<span class=\"c\"> visualization   Visualization metadata</span>","<span class=\"c\"> returns         true if there were no errors</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>setVisualization <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>visualization<span class=\"k\">,</span> options<span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">try</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentViz <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentViz<span class=\"k\">[</span><span class=\"s\">'class'</span><span class=\"k\">]</span> <span class=\"k\">!=</span> visualization<span class=\"k\">[</span><span class=\"s\">'class'</span><span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"c\">// remove the old visualization</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>setDomNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>domNode<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>currentViz <span class=\"k\">=</span> visualization<span class=\"k\">;</span>","    <span class=\"c\">// dipslay the new visualization</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>doVisualization<span class=\"k\">(</span>visualization<span class=\"k\">,</span> options<span class=\"k\">);</span>","    <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","  <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>lastError <span class=\"k\">=</span> e<span class=\"k\">;</span>","    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> updateVisualization</span>","<span class=\"c\"> Updates the current visualization, for example if the data has changed in some way</span>","","<span class=\"c\"> returns         true if there were no errors</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>updateVisualization <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>options<span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">try</span> <span class=\"k\">{</span>","    <span class=\"c\">// update the current visualization, if possible</span>","    <span class=\"k\">if</span><span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>currentViz<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>doVisualization<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>currentViz<span class=\"k\">,</span> options<span class=\"k\">);</span>","    <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","  <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>lastError <span class=\"k\">=</span> e<span class=\"k\">;</span>","    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> doVisualization</span>","<span class=\"c\"> Creates a visualization and causes it to render</span>","","<span class=\"c\"> returns         true if there were no errors</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>doVisualization <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> visualization<span class=\"k\">,</span> userDefinedOptions <span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>userDefinedOptions <span class=\"k\">=</span> userDefinedOptions <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","  <span class=\"k\">if</span><span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","  <span class=\"k\">try</span> <span class=\"k\">{</span>","    currentView <span class=\"k\">=</span> <span class=\"k\">new</span> pentaho<span class=\"k\">.</span>DataView<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">);</span>","","    <span class=\"k\">var</span> className <span class=\"k\">=</span> visualization<span class=\"k\">[</span><span class=\"s\">'class'</span><span class=\"k\">];</span>","","    <span class=\"c\">// Set chart options</span>","    <span class=\"k\">var</span> options <span class=\"k\">=</span> <span class=\"k\">{</span><span class=\"s\">'title'</span><span class=\"k\">:</span><span class=\"k\">this</span><span class=\"k\">.</span>title<span class=\"k\">,</span>","      <span class=\"s\">'width'</span><span class=\"k\">:</span><span class=\"k\">this</span><span class=\"k\">.</span>visualPanelElement<span class=\"k\">.</span>offsetWidth<span class=\"k\">,</span>","      <span class=\"s\">'height'</span><span class=\"k\">:</span><span class=\"k\">this</span><span class=\"k\">.</span>visualPanelElement<span class=\"k\">.</span>offsetHeight<span class=\"k\">,</span>","      metrics<span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>metrics<span class=\"k\">,</span>","      palette<span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>palette<span class=\"k\">,</span>","      controller<span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">,</span>","      action<span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentAction<span class=\"k\">,</span>","      selections<span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlights","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"k\">if</span><span class=\"k\">(</span> visualization<span class=\"k\">.</span>needsColorGradient <span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">var</span> gradMap <span class=\"k\">=</span> <span class=\"k\">[</span> <span class=\"k\">[</span><span class=\"s\">255</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">],[</span><span class=\"s\">255</span><span class=\"k\">,</span><span class=\"s\">255</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">],[</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">255</span><span class=\"k\">],[</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">255</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">];</span>","<span class=\"c\">//            var idx = document.getElementById('colorGradient1Select').selectedIndex;</span>","      options<span class=\"k\">.</span>color1 <span class=\"k\">=</span> gradMap<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","<span class=\"c\">//            idx = document.getElementById('colorGradient2Select').selectedIndex;</span>","      options<span class=\"k\">.</span>color2 <span class=\"k\">=</span> gradMap<span class=\"k\">[</span><span class=\"s\">3</span><span class=\"k\">];</span>","    <span class=\"k\">}</span>","","","    <span class=\"c\">// see if we have additional properties to set</span>","    <span class=\"k\">var</span> propMap <span class=\"k\">=</span> visualization<span class=\"k\">.</span>propMap<span class=\"k\">;</span>","    <span class=\"k\">if</span><span class=\"k\">(</span>propMap<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> propNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> propNo<span class=\"k\">&lt;</span>propMap<span class=\"k\">.</span>length<span class=\"k\">;</span> propNo<span class=\"k\">++)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> prop <span class=\"k\">=</span> propMap<span class=\"k\">[</span>propNo<span class=\"k\">];</span>","        <span class=\"k\">var</span> propValue <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> prop<span class=\"k\">.</span>source <span class=\"k\">==</span> <span class=\"s\">'columnlabel'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","          propValue <span class=\"k\">=</span> currentView<span class=\"k\">.</span>getColumnLabel<span class=\"k\">(</span>prop<span class=\"k\">.</span>position<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> prop<span class=\"k\">.</span>source <span class=\"k\">==</span> <span class=\"s\">'maxvalue'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","          propValue <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>metrics<span class=\"k\">[</span>prop<span class=\"k\">.</span>position<span class=\"k\">].</span>range<span class=\"k\">.</span>max<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span><span class=\"k\">(</span> prop<span class=\"k\">.</span>source <span class=\"k\">==</span> <span class=\"s\">'minvalue'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","          propValue <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>metrics<span class=\"k\">[</span>prop<span class=\"k\">.</span>position<span class=\"k\">].</span>range<span class=\"k\">.</span>min<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> obj <span class=\"k\">=</span> options<span class=\"k\">;</span>","        <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> nameNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> nameNo<span class=\"k\">&lt;</span>prop<span class=\"k\">.</span>name<span class=\"k\">.</span>length<span class=\"k\">;</span> nameNo<span class=\"k\">++)</span> <span class=\"k\">{</span>","          <span class=\"k\">if</span><span class=\"k\">(</span>nameNo <span class=\"k\">&lt;</span> prop<span class=\"k\">.</span>name<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">// make sure the parent parts exist</span>","            <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span>obj<span class=\"k\">[</span>prop<span class=\"k\">.</span>name<span class=\"k\">[</span>nameNo<span class=\"k\">]]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","              obj<span class=\"k\">[</span>prop<span class=\"k\">.</span>name<span class=\"k\">[</span>nameNo<span class=\"k\">]]</span> <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            obj <span class=\"k\">=</span> obj<span class=\"k\">[</span>prop<span class=\"k\">.</span>name<span class=\"k\">[</span>nameNo<span class=\"k\">]]</span>","          <span class=\"k\">}</span>","          <span class=\"k\">else</span> <span class=\"k\">{</span>","            <span class=\"c\">// we are at the end</span>","            obj<span class=\"k\">[</span>prop<span class=\"k\">.</span>name<span class=\"k\">[</span>nameNo<span class=\"k\">]]</span> <span class=\"k\">=</span> propValue<span class=\"k\">;</span>","          <span class=\"k\">}</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">if</span><span class=\"k\">(</span>visualization<span class=\"k\">.</span>args<span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> x <span class=\"k\">in</span> visualization<span class=\"k\">.</span>args<span class=\"k\">)</span> <span class=\"k\">{</span>","        options<span class=\"k\">[</span>x<span class=\"k\">]</span> <span class=\"k\">=</span> visualization<span class=\"k\">.</span>args<span class=\"k\">[</span>x<span class=\"k\">];</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> x <span class=\"k\">in</span> <span class=\"k\">this</span><span class=\"k\">.</span>userDefinedOptions<span class=\"k\">)</span> <span class=\"k\">{</span>","      options<span class=\"k\">[</span>x<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>userDefinedOptions<span class=\"k\">[</span>x<span class=\"k\">];</span>","    <span class=\"k\">}</span>","","","    <span class=\"k\">var</span> id <span class=\"k\">=</span> <span class=\"s\">'chart_div'</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>id<span class=\"k\">;</span>","","    <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>chart <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>vizId <span class=\"k\">==</span> visualization<span class=\"k\">.</span>id <span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"c\">// same control no need to change</span>","    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","      <span class=\"k\">var</span> chartDiv <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>visualPanelElement<span class=\"k\">;</span>","      eval<span class=\"k\">(</span> <span class=\"s\">'this.chart = new '</span><span class=\"k\">+</span>className<span class=\"k\">+</span><span class=\"s\">'(chartDiv)'</span><span class=\"k\">);</span>","      pentaho<span class=\"k\">.</span>events<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">,</span> <span class=\"s\">'select'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span> <span class=\"k\">return</span> myself<span class=\"k\">.</span>chartSelectHandler<span class=\"k\">.</span>apply<span class=\"k\">(</span>myself<span class=\"k\">,</span>arguments<span class=\"k\">||[]);</span><span class=\"k\">}</span> <span class=\"k\">);</span>","      pentaho<span class=\"k\">.</span>events<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">,</span> <span class=\"s\">'doubleclick'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span> <span class=\"k\">return</span> myself<span class=\"k\">.</span>chartDoubleClickHandler<span class=\"k\">.</span>apply<span class=\"k\">(</span>myself<span class=\"k\">,</span>arguments<span class=\"k\">||[]);</span><span class=\"k\">}</span> <span class=\"k\">);</span>","      pentaho<span class=\"k\">.</span>events<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">,</span> <span class=\"s\">'onmouseover'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span> <span class=\"k\">return</span> myself<span class=\"k\">.</span>chartMouseOverHandler<span class=\"k\">.</span>apply<span class=\"k\">(</span>myself<span class=\"k\">,</span>arguments<span class=\"k\">||[]);</span><span class=\"k\">}</span> <span class=\"k\">);</span>","      pentaho<span class=\"k\">.</span>events<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">,</span> <span class=\"s\">'onmouseout'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span> <span class=\"k\">return</span> myself<span class=\"k\">.</span>chartMouseOutHandler<span class=\"k\">.</span>apply<span class=\"k\">(</span>myself<span class=\"k\">,</span>arguments<span class=\"k\">||[]);</span><span class=\"k\">}</span> <span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">// Instantiate and draw our chart, passing in some options.</span>","","    <span class=\"k\">var</span> myself <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>controller <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>id <span class=\"k\">=</span> <span class=\"s\">'viz'</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>id<span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>vizId <span class=\"k\">=</span> visualization<span class=\"k\">.</span>id<span class=\"k\">;</span>","","    <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span>currentView <span class=\"k\">)</span> <span class=\"k\">{</span>","      alert<span class=\"k\">(</span><span class=\"s\">'No suitable dataset'</span><span class=\"k\">);</span>","      document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">'chart_div'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","      <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">try</span> <span class=\"k\">{</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>draw<span class=\"k\">(</span>currentView<span class=\"k\">,</span> options<span class=\"k\">);</span>","    <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","      alert<span class=\"k\">(</span>e<span class=\"k\">)</span>","    <span class=\"k\">}</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>currentViz <span class=\"k\">=</span> visualization<span class=\"k\">;</span>","    <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","  <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>lastError <span class=\"k\">=</span> e<span class=\"k\">;</span>","    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> chartSelectHandler</span>","<span class=\"c\"> Called when the user clicks on something in the visualization</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>chartSelectHandler <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>args<span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>processHighlights<span class=\"k\">(</span>args<span class=\"k\">);</span>","  pentaho<span class=\"k\">.</span>events<span class=\"k\">.</span>trigger<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"s\">\"select\"</span><span class=\"k\">,</span> args <span class=\"k\">);</span>","<span class=\"k\">}</span>","","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>chartDoubleClickHandler <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>args<span class=\"k\">)</span> <span class=\"k\">{</span>","<span class=\"c\">//    this.processHighlights(args);</span>","  pentaho<span class=\"k\">.</span>events<span class=\"k\">.</span>trigger<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"s\">\"doubleclick\"</span><span class=\"k\">,</span> args <span class=\"k\">);</span>","<span class=\"k\">}</span>","","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>processHighlights <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>args<span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">var</span> mode <span class=\"k\">=</span> args<span class=\"k\">.</span>selectionMode <span class=\"k\">||</span> <span class=\"s\">\"TOGGLE\"</span><span class=\"k\">;</span>","","  <span class=\"k\">if</span> <span class=\"k\">(</span>mode <span class=\"k\">==</span> <span class=\"s\">\"REPLACE\"</span><span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"c\">// only use the selections from the arguments passed in</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>highlights <span class=\"k\">=</span> <span class=\"k\">[];</span>","  <span class=\"k\">}</span>","","  <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> args<span class=\"k\">.</span>selections<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> selectedItem <span class=\"k\">=</span> args<span class=\"k\">.</span>selections<span class=\"k\">[</span>i<span class=\"k\">];</span>","","    <span class=\"k\">var</span> rowItem<span class=\"k\">;</span>","    <span class=\"k\">var</span> colId<span class=\"k\">;</span>","    <span class=\"k\">var</span> colLabel<span class=\"k\">;</span>","    <span class=\"k\">var</span> value<span class=\"k\">;</span>","    <span class=\"k\">var</span> colItem<span class=\"k\">;</span>","    <span class=\"k\">var</span> rowId<span class=\"k\">;</span>","    <span class=\"k\">var</span> rowLabel<span class=\"k\">;</span>","","    <span class=\"k\">if</span><span class=\"k\">(</span>selectedItem<span class=\"k\">.</span>rowItem<span class=\"k\">)</span> <span class=\"k\">{</span>","      rowItem <span class=\"k\">=</span> selectedItem<span class=\"k\">.</span>rowItem<span class=\"k\">;</span>","      rowId <span class=\"k\">=</span> selectedItem<span class=\"k\">.</span>rowId<span class=\"k\">;</span>","      rowLabel <span class=\"k\">=</span> selectedItem<span class=\"k\">.</span>rowLabel<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span><span class=\"k\">(</span>selectedItem<span class=\"k\">.</span>column <span class=\"k\">||</span> selectedItem<span class=\"k\">.</span>column <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","      colId <span class=\"k\">=</span> selectedItem<span class=\"k\">.</span>columnId<span class=\"k\">;</span>","      colLabel <span class=\"k\">=</span> selectedItem<span class=\"k\">.</span>columnLabel<span class=\"k\">;</span>","      colItem <span class=\"k\">=</span> selectedItem<span class=\"k\">.</span>columnItem<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span><span class=\"k\">((</span>selectedItem<span class=\"k\">.</span>row <span class=\"k\">||</span> selectedItem<span class=\"k\">.</span>row <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> selectedItem<span class=\"k\">.</span>column<span class=\"k\">)</span> <span class=\"k\">{</span>","      value <span class=\"k\">=</span> selectedItem<span class=\"k\">.</span>value<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"c\">//  alert(rowItem+','+colLabel+'='+value);</span>","","    <span class=\"c\">// see if this is already highlighted</span>","    <span class=\"k\">var</span> removed <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","    <span class=\"k\">var</span> modified <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","","    <span class=\"k\">if</span><span class=\"k\">(</span>mode <span class=\"k\">==</span> <span class=\"s\">\"TOGGLE\"</span><span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"c\">// previous selection should be retained or if re-selected should be toggled</span>","      <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> hNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> hNo<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">.</span>length<span class=\"k\">;</span> hNo<span class=\"k\">++)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> highlightRowItem <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>hNo<span class=\"k\">].</span>rowItem<span class=\"k\">;</span>","        <span class=\"k\">var</span> highlightColItem <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>hNo<span class=\"k\">].</span>colItem<span class=\"k\">;</span>","        <span class=\"k\">var</span> rowItemsSame <span class=\"k\">=</span> highlightRowItem","            <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>highlightRowItem <span class=\"k\">==</span> rowItem","            <span class=\"k\">||</span> <span class=\"k\">(</span>highlightRowItem<span class=\"k\">.</span>join <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span> highlightRowItem<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">'-'</span><span class=\"k\">)</span> <span class=\"k\">==</span> rowItem<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">'-'</span><span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">);</span>","","        <span class=\"k\">var</span> colItemsSame <span class=\"k\">=</span> highlightColItem","            <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>highlightColItem <span class=\"k\">==</span> colItem","            <span class=\"k\">||</span> <span class=\"k\">(</span>highlightColItem<span class=\"k\">.</span>join <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span> highlightColItem<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">'-'</span><span class=\"k\">)</span> <span class=\"k\">==</span> colItem<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">'-'</span><span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">);</span>","","        <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">typeof</span> colItemsSame <span class=\"k\">==</span> <span class=\"s\">'undefined'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","          colItemsSame <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">if</span><span class=\"k\">(</span> rowItemsSame <span class=\"k\">&amp;&amp;</span> colItemsSame <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>hNo<span class=\"k\">].</span>colId <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>hNo<span class=\"k\">].</span>colId <span class=\"k\">==</span> colId <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>hNo<span class=\"k\">].</span>type <span class=\"k\">==</span> <span class=\"s\">'column'</span> <span class=\"k\">&amp;&amp;</span> selectedItem<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'cell'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","          <span class=\"c\">// switch this</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>hNo<span class=\"k\">].</span>type <span class=\"k\">=</span> <span class=\"s\">'row'</span><span class=\"k\">;</span>","          highlight<span class=\"k\">.</span>id <span class=\"k\">=</span> selectedItem<span class=\"k\">.</span>rowId<span class=\"k\">;</span>","          highlight<span class=\"k\">.</span>value <span class=\"k\">=</span> rowItem<span class=\"k\">;</span>","          modified <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","          <span class=\"k\">break</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> rowItemsSame <span class=\"k\">&amp;&amp;</span> colItemsSame <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>hNo<span class=\"k\">].</span>colId <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>hNo<span class=\"k\">].</span>colId <span class=\"k\">==</span> colId <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>hNo<span class=\"k\">].</span>type <span class=\"k\">==</span> <span class=\"s\">'column'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","          <span class=\"c\">// remove this</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">.</span>splice<span class=\"k\">(</span> hNo<span class=\"k\">,</span> <span class=\"s\">1</span> <span class=\"k\">);</span>","          removed <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","          <span class=\"k\">break</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> rowItemsSame <span class=\"k\">&amp;&amp;</span> colItemsSame <span class=\"k\">)</span> <span class=\"k\">{</span>","          <span class=\"c\">// remove this</span>","          <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">.</span>splice<span class=\"k\">(</span> hNo<span class=\"k\">,</span> <span class=\"s\">1</span> <span class=\"k\">);</span>","          removed <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","          <span class=\"k\">break</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","      <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span><span class=\"k\">(!</span>removed <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>modified<span class=\"k\">)</span> <span class=\"k\">{</span>","      highlight <span class=\"k\">=</span> <span class=\"k\">{</span> rowItem<span class=\"k\">:</span> rowItem<span class=\"k\">,</span> colId<span class=\"k\">:</span> colId<span class=\"k\">,</span> colLabel<span class=\"k\">:</span> colLabel<span class=\"k\">,</span> colItem<span class=\"k\">:</span> colItem<span class=\"k\">,</span> rowId<span class=\"k\">:</span> rowId<span class=\"k\">,</span> rowLabel<span class=\"k\">:</span> rowLabel <span class=\"k\">}</span><span class=\"k\">;</span>","      highlight<span class=\"k\">.</span>type <span class=\"k\">=</span> selectedItem<span class=\"k\">.</span>type<span class=\"k\">;</span>","      <span class=\"k\">if</span><span class=\"k\">(</span> selectedItem<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'row'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        highlight<span class=\"k\">.</span>id <span class=\"k\">=</span> rowId<span class=\"k\">;</span>","        highlight<span class=\"k\">.</span>value <span class=\"k\">=</span> rowItem<span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> selectedItem<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'column'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        highlight<span class=\"k\">.</span>type <span class=\"k\">=</span> <span class=\"s\">'column'</span><span class=\"k\">;</span>","        highlight<span class=\"k\">.</span>id <span class=\"k\">=</span> colId<span class=\"k\">;</span>","        highlight<span class=\"k\">.</span>value <span class=\"k\">=</span> colLabel<span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> selectedItem<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'cell'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","        highlight<span class=\"k\">.</span>type <span class=\"k\">=</span> <span class=\"s\">'cell'</span><span class=\"k\">;</span>","        highlight<span class=\"k\">.</span>id <span class=\"k\">=</span> colId<span class=\"k\">;</span>","        highlight<span class=\"k\">.</span>value <span class=\"k\">=</span> colLabel<span class=\"k\">;</span>","      <span class=\"k\">}</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">.</span>push<span class=\"k\">(</span> highlight <span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","<span class=\"c\">//    this.updateHighlights();</span>","<span class=\"k\">}</span>","","","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>createCombination <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","","  <span class=\"c\">// assume the highlighted items are of the same type</span>","  <span class=\"k\">var</span> type<span class=\"k\">,</span> columnId<span class=\"k\">,</span> values <span class=\"k\">=</span> <span class=\"k\">[];</span>","  <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> idx<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> idx<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">.</span>length<span class=\"k\">;</span> idx<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> idx<span class=\"k\">==</span><span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","      type <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>idx<span class=\"k\">].</span>type<span class=\"k\">;</span>","      values<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>idx<span class=\"k\">].</span>value<span class=\"k\">);</span>","      columnId <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>idx<span class=\"k\">].</span>id<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>idx<span class=\"k\">].</span>id <span class=\"k\">==</span> columnId<span class=\"k\">)</span> <span class=\"k\">{</span>","      values<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">[</span>idx<span class=\"k\">].</span>value<span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>combinations<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"k\">{</span>","    values<span class=\"k\">:</span> values<span class=\"k\">,</span>","    columnId<span class=\"k\">:</span> columnId","  <span class=\"k\">}</span><span class=\"k\">);</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>setupTable<span class=\"k\">();</span>","  <span class=\"c\">// now clear the selections</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>highlights <span class=\"k\">=</span> <span class=\"k\">[];</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>updateVisualization<span class=\"k\">();</span>","","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> updateHighlights</span>","<span class=\"c\"> Updates all of the highlights on the visualization</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>updateHighlights <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","","  <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>setHighlights <span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>setHighlights<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>highlights<span class=\"k\">);</span>","  <span class=\"k\">}</span>","","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> updateHighlights</span>","<span class=\"c\"> Clears all of the highlights on the visualization</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>clearSelections <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>highlights <span class=\"k\">=</span> <span class=\"k\">[];</span>","<span class=\"k\">}</span>","","","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>setupTable <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","  <span class=\"k\">if</span><span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>origTable<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","","  <span class=\"k\">this</span><span class=\"k\">.</span>metrics <span class=\"k\">=</span> <span class=\"k\">[];</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>dataTable <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>origTable<span class=\"k\">;</span>","","  <span class=\"c\">// apply any local combinations</span>","  <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>combinations <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>combinations<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> rows <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>origTable<span class=\"k\">.</span>getFilteredRows<span class=\"k\">([</span><span class=\"k\">{</span>column<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span> combinations<span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>combinations<span class=\"k\">}</span><span class=\"k\">]);</span>","    <span class=\"k\">var</span> view <span class=\"k\">=</span> <span class=\"k\">new</span> pentaho<span class=\"k\">.</span>DataView<span class=\"k\">(</span>table<span class=\"k\">);</span>","    view<span class=\"k\">.</span>setRows<span class=\"k\">(</span> rows <span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>dataTable <span class=\"k\">=</span> view<span class=\"k\">;</span>","  <span class=\"k\">}</span>","","  <span class=\"c\">// get metrics across the entire dataset in case we need them</span>","  <span class=\"k\">for</span><span class=\"k\">(</span> <span class=\"k\">var</span> colNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> colNo<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getNumberOfColumns<span class=\"k\">();</span> colNo<span class=\"k\">++)</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getColumnType<span class=\"k\">(</span>colNo<span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">'string'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">var</span> values <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getDistinctValues<span class=\"k\">(</span>colNo<span class=\"k\">);</span>","      <span class=\"k\">var</span> paletteMap <span class=\"k\">=</span> pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>createPaletteMap<span class=\"k\">(</span> values<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>palette <span class=\"k\">);</span>","      <span class=\"c\">// TODO add longest sting length to the metrics</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>metrics<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>","        values<span class=\"k\">:</span> values<span class=\"k\">,</span>","        paletteMap<span class=\"k\">:</span> paletteMap","      <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getColumnType<span class=\"k\">(</span>colNo<span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">'number'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","      <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>getColumnRange<span class=\"k\">(</span>colNo<span class=\"k\">);</span>","      <span class=\"k\">this</span><span class=\"k\">.</span>metrics<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>range<span class=\"k\">:</span> range<span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","  <span class=\"k\">}</span>","","<span class=\"k\">}</span>","","<span class=\"k\">function</span> sort<span class=\"k\">(</span> columnIdx<span class=\"k\">,</span> direction <span class=\"k\">)</span> <span class=\"k\">{</span>","","  <span class=\"k\">var</span> rows <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>dataTable<span class=\"k\">.</span>sort<span class=\"k\">([</span><span class=\"k\">{</span>column<span class=\"k\">:</span> columnIdx<span class=\"k\">,</span> desc<span class=\"k\">:</span> direction <span class=\"k\">==</span> pentaho<span class=\"k\">.</span>pda<span class=\"k\">.</span>Column<span class=\"k\">.</span>SORT_TYPES<span class=\"k\">.</span>DESCENDING<span class=\"k\">}</span><span class=\"k\">]);</span>","  clearDataDisplay<span class=\"k\">();</span>","  displayData<span class=\"k\">();</span>","<span class=\"k\">}</span>","","","<span class=\"c\">/*</span>","<span class=\"c\"> createPaletteMap</span>","<span class=\"c\"> Static function to create a palette map</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>createPaletteMap <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> items<span class=\"k\">,</span> palette <span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">var</span> map <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","  <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> itemNo<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> itemNo<span class=\"k\">&lt;</span>items<span class=\"k\">.</span>length <span class=\"k\">&amp;&amp;</span> itemNo<span class=\"k\">&lt;</span>palette<span class=\"k\">.</span>colors<span class=\"k\">.</span>length<span class=\"k\">;</span> itemNo<span class=\"k\">++)</span> <span class=\"k\">{</span>","    map<span class=\"k\">[</span>items<span class=\"k\">[</span>itemNo<span class=\"k\">]]</span> <span class=\"k\">=</span> palette<span class=\"k\">.</span>colors<span class=\"k\">[</span>itemNo<span class=\"k\">];</span>","  <span class=\"k\">}</span>","  <span class=\"c\">// are there more items than colors in the palette?</span>","  <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> itemNo<span class=\"k\">=</span>palette<span class=\"k\">.</span>colors<span class=\"k\">.</span>length<span class=\"k\">;</span> itemNo<span class=\"k\">&lt;</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> itemNo<span class=\"k\">++)</span> <span class=\"k\">{</span>","    map<span class=\"k\">[</span>items<span class=\"k\">[</span>itemNo<span class=\"k\">]]</span> <span class=\"k\">=</span> <span class=\"s\">\"#000000\"</span><span class=\"k\">;</span>","  <span class=\"k\">}</span>","","  <span class=\"k\">return</span> map<span class=\"k\">;</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> createPaletteMap</span>","<span class=\"c\"> Static function to create a color within a color gradient</span>","<span class=\"c\"> Return  an RGB() color</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>getRrbGradient <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>value<span class=\"k\">,</span> min<span class=\"k\">,</span> max<span class=\"k\">,</span> color1<span class=\"k\">,</span> color2<span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">if</span><span class=\"k\">(</span>max <span class=\"k\">-</span> min <span class=\"k\">&lt;=</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">return</span> pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>getRrbColor<span class=\"k\">(</span>color2<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> color2<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">],</span> color2<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]);</span>","  <span class=\"k\">}</span>","  <span class=\"k\">var</span> inRange <span class=\"k\">=</span> <span class=\"k\">(</span>value<span class=\"k\">-</span>min<span class=\"k\">)/(</span>max<span class=\"k\">-</span>min<span class=\"k\">);</span>","  <span class=\"k\">var</span> cols <span class=\"k\">=</span> <span class=\"k\">new</span> Array<span class=\"k\">(</span><span class=\"s\">3</span><span class=\"k\">);</span>","  cols<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(</span> inRange <span class=\"k\">*</span> <span class=\"k\">(</span>color2<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">-</span> color1<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])</span> <span class=\"k\">+</span> color1<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">);</span>","  cols<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(</span> inRange <span class=\"k\">*</span> <span class=\"k\">(</span>color2<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">-</span> color1<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])</span> <span class=\"k\">+</span> color1<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">);</span>","  cols<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]</span> <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(</span> inRange <span class=\"k\">*</span> <span class=\"k\">(</span>color2<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]</span> <span class=\"k\">-</span> color1<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">])</span> <span class=\"k\">+</span> color1<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]</span> <span class=\"k\">);</span>","  <span class=\"k\">return</span> pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>getRrbColor<span class=\"k\">(</span>cols<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> cols<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">],</span> cols<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]);</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> createPaletteMap</span>","<span class=\"c\"> Static function to create a color within a color gradient</span>","<span class=\"c\"> Return  an RGB() color</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>getRgbGradientFromMultiColorHex <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>value<span class=\"k\">,</span> min<span class=\"k\">,</span> max<span class=\"k\">,</span> colors<span class=\"k\">)</span> <span class=\"k\">{</span>","","  <span class=\"k\">var</span> steps <span class=\"k\">=</span> colors<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> range <span class=\"k\">=</span> max<span class=\"k\">-</span>min<span class=\"k\">;</span>","","  <span class=\"k\">if</span><span class=\"k\">(</span>range <span class=\"k\">&lt;=</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> start <span class=\"k\">=</span> colors<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","    <span class=\"k\">var</span> end <span class=\"k\">=</span> start<span class=\"k\">;</span>","  <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> start <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(((</span>value<span class=\"k\">-</span>min<span class=\"k\">)/</span>range<span class=\"k\">)</span> <span class=\"k\">*</span> steps<span class=\"k\">);</span>","    <span class=\"k\">var</span> end <span class=\"k\">=</span> Math<span class=\"k\">.</span>ceil<span class=\"k\">(((</span>value<span class=\"k\">-</span>min<span class=\"k\">)/</span>range<span class=\"k\">)</span> <span class=\"k\">*</span> steps<span class=\"k\">);</span>","  <span class=\"k\">}</span>","  <span class=\"k\">var</span> color1 <span class=\"k\">=</span> pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>convertToRGB<span class=\"k\">(</span>colors<span class=\"k\">[</span>start<span class=\"k\">]);</span>","  <span class=\"k\">var</span> color2 <span class=\"k\">=</span> pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>convertToRGB<span class=\"k\">(</span>colors<span class=\"k\">[</span>end<span class=\"k\">]);</span>","","  <span class=\"k\">var</span> rangeMin <span class=\"k\">=</span> <span class=\"k\">(</span>start <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"k\">(</span>start <span class=\"k\">/</span> steps<span class=\"k\">)</span> <span class=\"k\">*</span> max<span class=\"k\">;</span>","  <span class=\"k\">var</span> rangeMax <span class=\"k\">=</span> <span class=\"k\">(</span>end <span class=\"k\">/</span> steps<span class=\"k\">)</span> <span class=\"k\">*</span> max<span class=\"k\">;</span>","","  <span class=\"k\">var</span> inRange","  <span class=\"k\">if</span><span class=\"k\">(</span>rangeMin <span class=\"k\">==</span> rangeMax<span class=\"k\">)</span><span class=\"k\">{</span>","    inRange <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","  <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","    inRange <span class=\"k\">=</span> <span class=\"k\">(</span>value<span class=\"k\">-</span>rangeMin<span class=\"k\">)/(</span>rangeMax<span class=\"k\">-</span>rangeMin<span class=\"k\">);</span>","  <span class=\"k\">}</span>","  <span class=\"k\">var</span> cols <span class=\"k\">=</span> <span class=\"k\">new</span> Array<span class=\"k\">(</span><span class=\"s\">3</span><span class=\"k\">);</span>","  cols<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(</span> inRange <span class=\"k\">*</span> <span class=\"k\">(</span>color2<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">-</span> color1<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])</span> <span class=\"k\">+</span> color1<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">);</span>","  cols<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(</span> inRange <span class=\"k\">*</span> <span class=\"k\">(</span>color2<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">-</span> color1<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])</span> <span class=\"k\">+</span> color1<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">);</span>","  cols<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]</span> <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(</span> inRange <span class=\"k\">*</span> <span class=\"k\">(</span>color2<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]</span> <span class=\"k\">-</span> color1<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">])</span> <span class=\"k\">+</span> color1<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]</span> <span class=\"k\">);</span>","  <span class=\"k\">return</span> pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>getRrbColor<span class=\"k\">(</span>cols<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> cols<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">],</span> cols<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]);</span>","<span class=\"k\">}</span>","","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>getRgbStepFromMultiColorHex <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>value<span class=\"k\">,</span> min<span class=\"k\">,</span> max<span class=\"k\">,</span> colors<span class=\"k\">)</span> <span class=\"k\">{</span>","","  <span class=\"k\">var</span> steps <span class=\"k\">=</span> colors<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","  <span class=\"k\">var</span> range <span class=\"k\">=</span> max<span class=\"k\">-</span>min<span class=\"k\">;</span>","","","  <span class=\"k\">var</span> step <span class=\"k\">=</span> Math<span class=\"k\">.</span>round<span class=\"k\">(((</span>value<span class=\"k\">-</span>min<span class=\"k\">)/</span>range<span class=\"k\">)</span> <span class=\"k\">*</span> steps<span class=\"k\">);</span>","","  <span class=\"k\">var</span> color <span class=\"k\">=</span> pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>convertToRGB<span class=\"k\">(</span>colors<span class=\"k\">[</span>step<span class=\"k\">]);</span>","  <span class=\"k\">return</span> pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>getRrbColor<span class=\"k\">(</span>color<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> color<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">],</span> color<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]);</span>","<span class=\"k\">}</span>","","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>convertToRGB <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>hex<span class=\"k\">)</span><span class=\"k\">{</span>","  <span class=\"k\">if</span><span class=\"k\">(</span>hex<span class=\"k\">.</span>indexOf<span class=\"k\">(</span><span class=\"s\">\"#\"</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","    hex <span class=\"k\">=</span> hex<span class=\"k\">.</span>substring<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">);</span>","  <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","    hex <span class=\"k\">=</span> pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>CSS_Names<span class=\"k\">[</span>hex<span class=\"k\">.</span>toLowerCase<span class=\"k\">()];</span>","  <span class=\"k\">}</span>","  <span class=\"k\">return</span> <span class=\"k\">[</span>","    parseInt<span class=\"k\">(</span>hex<span class=\"k\">.</span>substring<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span><span class=\"s\">2</span><span class=\"k\">),</span><span class=\"s\">16</span><span class=\"k\">),</span>","    parseInt<span class=\"k\">(</span>hex<span class=\"k\">.</span>substring<span class=\"k\">(</span><span class=\"s\">2</span><span class=\"k\">,</span><span class=\"s\">4</span><span class=\"k\">),</span><span class=\"s\">16</span><span class=\"k\">),</span>","    parseInt<span class=\"k\">(</span>hex<span class=\"k\">.</span>substring<span class=\"k\">(</span><span class=\"s\">4</span><span class=\"k\">,</span><span class=\"s\">6</span><span class=\"k\">),</span><span class=\"s\">16</span><span class=\"k\">)</span>","  <span class=\"k\">];</span>","<span class=\"k\">}</span>","","<span class=\"c\">/*</span>","<span class=\"c\"> createPaletteMap</span>","<span class=\"c\"> Static function to create a RGB color</span>","<span class=\"c\"> Return  an RGB() color</span>","<span class=\"c\"> */</span>","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>getRrbColor <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>r<span class=\"k\">,</span> g<span class=\"k\">,</span> b<span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">return</span> <span class=\"s\">'RGB('</span><span class=\"k\">+</span>r<span class=\"k\">+</span><span class=\"s\">','</span><span class=\"k\">+</span>g<span class=\"k\">+</span><span class=\"s\">','</span><span class=\"k\">+</span>b<span class=\"k\">+</span><span class=\"s\">')'</span><span class=\"k\">;</span>","<span class=\"k\">}</span>","","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>prototype<span class=\"k\">.</span>resize <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>width<span class=\"k\">,</span> height<span class=\"k\">)</span> <span class=\"k\">{</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>visualPanelElement<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> width<span class=\"k\">+</span><span class=\"s\">\"px\"</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>visualPanelElement<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> height<span class=\"k\">+</span><span class=\"s\">\"px\"</span><span class=\"k\">;</span>","  <span class=\"k\">this</span><span class=\"k\">.</span>chart<span class=\"k\">.</span>resize<span class=\"k\">(</span>width<span class=\"k\">,</span> height<span class=\"k\">);</span>","<span class=\"k\">}</span>","","","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>dashboardMode <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","<span class=\"k\">try</span><span class=\"k\">{</span>","  window<span class=\"k\">.</span>parent <span class=\"k\">&amp;&amp;</span> <span class=\"k\">typeof</span><span class=\"k\">(</span>window<span class=\"k\">.</span>parent<span class=\"k\">.</span>PentahoDashboardController<span class=\"k\">)</span> <span class=\"k\">!==</span> <span class=\"s\">\"undefined\"</span><span class=\"k\">;</span>","<span class=\"k\">}</span> <span class=\"k\">catch</span><span class=\"k\">(</span>ignored<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"c\">/*XSS*/</span><span class=\"k\">}</span>","","","","pentaho<span class=\"k\">.</span>VizController<span class=\"k\">.</span>CSS_Names <span class=\"k\">=</span> <span class=\"k\">{</span><span class=\"s\">\"aliceblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"F0F8FF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"antiquewhite\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FAEBD7\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"aqua\"</span> <span class=\"k\">:</span> <span class=\"s\">\"00FFFF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"aquamarine\"</span> <span class=\"k\">:</span> <span class=\"s\">\"7FFFD4\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"azure\"</span> <span class=\"k\">:</span> <span class=\"s\">\"F0FFFF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"beige\"</span> <span class=\"k\">:</span> <span class=\"s\">\"F5F5DC\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"bisque\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFE4C4\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"black\"</span> <span class=\"k\">:</span> <span class=\"s\">\"000000\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"blanchedalmond\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFEBCD\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"blue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"0000FF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"blueviolet\"</span> <span class=\"k\">:</span> <span class=\"s\">\"8A2BE2\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"brown\"</span> <span class=\"k\">:</span> <span class=\"s\">\"A52A2A\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"burlywood\"</span> <span class=\"k\">:</span> <span class=\"s\">\"DEB887\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"cadetblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"5F9EA0\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"chartreuse\"</span> <span class=\"k\">:</span> <span class=\"s\">\"7FFF00\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"chocolate\"</span> <span class=\"k\">:</span> <span class=\"s\">\"D2691E\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"coral\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FF7F50\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"cornflowerblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"6495ED\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"cornsilk\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFF8DC\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"crimson\"</span> <span class=\"k\">:</span> <span class=\"s\">\"DC143C\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"cyan\"</span> <span class=\"k\">:</span> <span class=\"s\">\"00FFFF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"00008B\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkcyan\"</span> <span class=\"k\">:</span> <span class=\"s\">\"008B8B\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkgoldenRod\"</span> <span class=\"k\">:</span> <span class=\"s\">\"B8860B\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkgray\"</span> <span class=\"k\">:</span> <span class=\"s\">\"A9A9A9\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkgrey\"</span> <span class=\"k\">:</span> <span class=\"s\">\"A9A9A9\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkgreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"006400\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkkhaki\"</span> <span class=\"k\">:</span> <span class=\"s\">\"BDB76B\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkmagenta\"</span> <span class=\"k\">:</span> <span class=\"s\">\"8B008B\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkoliveGreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"556B2F\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkorange\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FF8C00\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkorchid\"</span> <span class=\"k\">:</span> <span class=\"s\">\"9932CC\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkred\"</span> <span class=\"k\">:</span> <span class=\"s\">\"8B0000\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darksalmon\"</span> <span class=\"k\">:</span> <span class=\"s\">\"E9967A\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkseagreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"8FBC8F\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkslateblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"483D8B\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkslategray\"</span> <span class=\"k\">:</span> <span class=\"s\">\"2F4F4F\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkslategrey\"</span> <span class=\"k\">:</span> <span class=\"s\">\"2F4F4F\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkturquoise\"</span> <span class=\"k\">:</span> <span class=\"s\">\"00CED1\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"darkviolet\"</span> <span class=\"k\">:</span> <span class=\"s\">\"9400D3\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"deeppink\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FF1493\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"deepskyblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"00BFFF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"dimgray\"</span> <span class=\"k\">:</span> <span class=\"s\">\"696969\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"dimgrey\"</span> <span class=\"k\">:</span> <span class=\"s\">\"696969\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"dodgerblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"1E90FF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"firebrick\"</span> <span class=\"k\">:</span> <span class=\"s\">\"B22222\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"floralwhite\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFFAF0\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"forestgreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"228B22\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"fuchsia\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FF00FF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"gainsboro\"</span> <span class=\"k\">:</span> <span class=\"s\">\"DCDCDC\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"ghostwhite\"</span> <span class=\"k\">:</span> <span class=\"s\">\"F8F8FF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"gold\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFD700\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"goldenrod\"</span> <span class=\"k\">:</span> <span class=\"s\">\"DAA520\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"gray\"</span> <span class=\"k\">:</span> <span class=\"s\">\"808080\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"grey\"</span> <span class=\"k\">:</span> <span class=\"s\">\"808080\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"green\"</span> <span class=\"k\">:</span> <span class=\"s\">\"008000\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"greenyellow\"</span> <span class=\"k\">:</span> <span class=\"s\">\"ADFF2F\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"honeydew\"</span> <span class=\"k\">:</span> <span class=\"s\">\"F0FFF0\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"hotpink\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FF69B4\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"indianred\"</span> <span class=\"k\">:</span> <span class=\"s\">\"CD5C5C\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"indigo\"</span> <span class=\"k\">:</span> <span class=\"s\">\"4B0082\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"ivory\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFFFF0\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"khaki\"</span> <span class=\"k\">:</span> <span class=\"s\">\"F0E68C\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lavender\"</span> <span class=\"k\">:</span> <span class=\"s\">\"E6E6FA\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lavenderblush\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFF0F5\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lawngreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"7CFC00\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lemonchiffon\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFFACD\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"ADD8E6\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightcoral\"</span> <span class=\"k\">:</span> <span class=\"s\">\"F08080\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightcyan\"</span> <span class=\"k\">:</span> <span class=\"s\">\"E0FFFF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightgoldenrodyellow\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FAFAD2\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightgray\"</span> <span class=\"k\">:</span> <span class=\"s\">\"D3D3D3\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightgrey\"</span> <span class=\"k\">:</span> <span class=\"s\">\"D3D3D3\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightgreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"90EE90\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightpink\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFB6C1\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightsalmon\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFA07A\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightseagreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"20B2AA\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightskyblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"87CEFA\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightslategray\"</span> <span class=\"k\">:</span> <span class=\"s\">\"778899\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightslategrey\"</span> <span class=\"k\">:</span> <span class=\"s\">\"778899\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightsteelblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"B0C4DE\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lightyellow\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFFFE0\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"lime\"</span> <span class=\"k\">:</span> <span class=\"s\">\"00FF00\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"limegreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"32CD32\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"linen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FAF0E6\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"magenta\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FF00FF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"maroon\"</span> <span class=\"k\">:</span> <span class=\"s\">\"800000\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"mediumaquamarine\"</span> <span class=\"k\">:</span> <span class=\"s\">\"66CDAA\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"mediumblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"0000CD\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"mediumorchid\"</span> <span class=\"k\">:</span> <span class=\"s\">\"BA55D3\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"mediumpurple\"</span> <span class=\"k\">:</span> <span class=\"s\">\"9370D8\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"mediumseagreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"3CB371\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"mediumslateblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"7B68EE\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"mediumspringgreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"00FA9A\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"mediumturquoise\"</span> <span class=\"k\">:</span> <span class=\"s\">\"48D1CC\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"mediumvioletred\"</span> <span class=\"k\">:</span> <span class=\"s\">\"C71585\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"midnightblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"191970\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"mintcream\"</span> <span class=\"k\">:</span> <span class=\"s\">\"F5FFFA\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"mistyrose\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFE4E1\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"moccasin\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFE4B5\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"navajowhite\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFDEAD\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"navy\"</span> <span class=\"k\">:</span> <span class=\"s\">\"000080\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"oldlace\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FDF5E6\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"olive\"</span> <span class=\"k\">:</span> <span class=\"s\">\"808000\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"olivedrab\"</span> <span class=\"k\">:</span> <span class=\"s\">\"6B8E23\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"orange\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFA500\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"orangered\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FF4500\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"orchid\"</span> <span class=\"k\">:</span> <span class=\"s\">\"DA70D6\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"palegoldenrod\"</span> <span class=\"k\">:</span> <span class=\"s\">\"EEE8AA\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"palegreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"98FB98\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"paleturquoise\"</span> <span class=\"k\">:</span> <span class=\"s\">\"AFEEEE\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"palevioletRed\"</span> <span class=\"k\">:</span> <span class=\"s\">\"D87093\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"papayawhip\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFEFD5\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"peachpuff\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFDAB9\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"peru\"</span> <span class=\"k\">:</span> <span class=\"s\">\"CD853F\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"pink\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFC0CB\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"plum\"</span> <span class=\"k\">:</span> <span class=\"s\">\"DDA0DD\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"powderblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"B0E0E6\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"purple\"</span> <span class=\"k\">:</span> <span class=\"s\">\"800080\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"red\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FF0000\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"rosybrown\"</span> <span class=\"k\">:</span> <span class=\"s\">\"BC8F8F\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"royalblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"4169E1\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"saddlebrown\"</span> <span class=\"k\">:</span> <span class=\"s\">\"8B4513\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"salmon\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FA8072\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"sandybrown\"</span> <span class=\"k\">:</span> <span class=\"s\">\"F4A460\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"seagreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"2E8B57\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"seashell\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFF5EE\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"sienna\"</span> <span class=\"k\">:</span> <span class=\"s\">\"A0522D\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"silver\"</span> <span class=\"k\">:</span> <span class=\"s\">\"C0C0C0\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"skyblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"87CEEB\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"slateblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"6A5ACD\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"slategray\"</span> <span class=\"k\">:</span> <span class=\"s\">\"708090\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"slategrey\"</span> <span class=\"k\">:</span> <span class=\"s\">\"708090\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"snow\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFFAFA\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"springgreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"00FF7F\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"steelblue\"</span> <span class=\"k\">:</span> <span class=\"s\">\"4682B4\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"tan\"</span> <span class=\"k\">:</span> <span class=\"s\">\"D2B48C\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"teal\"</span> <span class=\"k\">:</span> <span class=\"s\">\"008080\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"thistle\"</span> <span class=\"k\">:</span> <span class=\"s\">\"D8BFD8\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"tomato\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FF6347\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"turquoise\"</span> <span class=\"k\">:</span> <span class=\"s\">\"40E0D0\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"violet\"</span> <span class=\"k\">:</span> <span class=\"s\">\"EE82EE\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"wheat\"</span> <span class=\"k\">:</span> <span class=\"s\">\"F5DEB3\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"white\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFFFFF\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"whitesmoke\"</span> <span class=\"k\">:</span> <span class=\"s\">\"F5F5F5\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"yellow\"</span> <span class=\"k\">:</span> <span class=\"s\">\"FFFF00\"</span><span class=\"k\">,</span>","  <span class=\"s\">\"yellowgreen\"</span> <span class=\"k\">:</span> <span class=\"s\">\"9ACD32\"</span><span class=\"k\">}</span>"];
_$jscoverage['vizapi/VizController.js'][10]++;
pentaho = (((typeof pentaho) == "undefined")? {}: pentaho);
_$jscoverage['vizapi/VizController.js'][15]++;
pentaho.palettes = [];
_$jscoverage['vizapi/VizController.js'][17]++;
pentaho.palettes.push({name: "palette 1", colors: ["#336699", "#99CCFF", "#999933", "#666699", "#CC9933", "#006666", "#3399FF", "#993300", "#CCCC99", "#666666", "#FFCC66", "#6699CC", "#663366"]});
_$jscoverage['vizapi/VizController.js'][36]++;
pentaho.palettes.push({name: "palette 2", colors: ["#880a0f", "#b09a6b", "#772200", "#c52f0d", "#123d82", "#4a0866", "#ffaa00", "#1e8ad3", "#aa6611", "#772200", "#8b2834", "#333333"]});
_$jscoverage['vizapi/VizController.js'][54]++;
pentaho.palettes.push({name: "palette 3", colors: ["#387179", "#626638", "#A8979A", "#B09A6B", "#772200", "#C52F0D", "#123D82", "#4A0866", "#445500", "#FFAA00", "#1E8AD3", "#AA6611", "#772200"]});
_$jscoverage['vizapi/VizController.js'][76]++;
pentaho.visualizations = (pentaho.visualizations || []);
_$jscoverage['vizapi/VizController.js'][78]++;
pentaho.visualizations.getById = (function (id) {
  _$jscoverage['vizapi/VizController.js'][79]++;
  for (var i = 0; (i < this.length); (i++)) {
    _$jscoverage['vizapi/VizController.js'][80]++;
    if ((this[i].id == id)) {
      _$jscoverage['vizapi/VizController.js'][81]++;
      return this[i];
    }
}
  _$jscoverage['vizapi/VizController.js'][84]++;
  return null;
});
_$jscoverage['vizapi/VizController.js'][88]++;
var visualizations = pentaho.visualizations;
_$jscoverage['vizapi/VizController.js'][94]++;
pentaho.VizController = (function (id) {
  _$jscoverage['vizapi/VizController.js'][95]++;
  this.id = id;
  _$jscoverage['vizapi/VizController.js'][96]++;
  this.domNode = null;
  _$jscoverage['vizapi/VizController.js'][97]++;
  this.isDragging = false;
  _$jscoverage['vizapi/VizController.js'][98]++;
  this.combinations = [];
  _$jscoverage['vizapi/VizController.js'][99]++;
  this.selections = [];
  _$jscoverage['vizapi/VizController.js'][100]++;
  this.highlights = [];
  _$jscoverage['vizapi/VizController.js'][101]++;
  this.metrics = null;
  _$jscoverage['vizapi/VizController.js'][102]++;
  this.origTable = null;
  _$jscoverage['vizapi/VizController.js'][103]++;
  this.dataTable = null;
  _$jscoverage['vizapi/VizController.js'][104]++;
  this.currentViz = null;
  _$jscoverage['vizapi/VizController.js'][105]++;
  this.currentAction = "select";
  _$jscoverage['vizapi/VizController.js'][106]++;
  this.layoutPanelElement = null;
  _$jscoverage['vizapi/VizController.js'][107]++;
  this.layoutPanel = null;
  _$jscoverage['vizapi/VizController.js'][108]++;
  this.visualPanelElement = null;
  _$jscoverage['vizapi/VizController.js'][109]++;
  this.layoutShown = false;
  _$jscoverage['vizapi/VizController.js'][110]++;
  this.toolbarElement = null;
  _$jscoverage['vizapi/VizController.js'][111]++;
  this.title = null;
  _$jscoverage['vizapi/VizController.js'][112]++;
  this.chart = null;
  _$jscoverage['vizapi/VizController.js'][113]++;
  this.palette = pentaho.palettes[0];
  _$jscoverage['vizapi/VizController.js'][114]++;
  this.lastError = null;
});
_$jscoverage['vizapi/VizController.js'][121]++;
pentaho.VizController.prototype.getError = (function () {
  _$jscoverage['vizapi/VizController.js'][122]++;
  return this.lastError;
});
_$jscoverage['vizapi/VizController.js'][133]++;
pentaho.VizController.prototype.getState = (function () {
  _$jscoverage['vizapi/VizController.js'][134]++;
  try {
    _$jscoverage['vizapi/VizController.js'][135]++;
    var state = {};
    _$jscoverage['vizapi/VizController.js'][137]++;
    if (this.currentViz) {
      _$jscoverage['vizapi/VizController.js'][138]++;
      state.vizId = this.currentViz.id;
      _$jscoverage['vizapi/VizController.js'][139]++;
      if (this.chart.getState) {
        _$jscoverage['vizapi/VizController.js'][140]++;
        state.vizState = this.chart.getState();
      }
    }
    _$jscoverage['vizapi/VizController.js'][143]++;
    return state;
  }
  catch (e) {
    _$jscoverage['vizapi/VizController.js'][145]++;
    this.lastError = e;
    _$jscoverage['vizapi/VizController.js'][146]++;
    return null;
  }
});
_$jscoverage['vizapi/VizController.js'][157]++;
pentaho.VizController.prototype.setState = (function (state) {
  _$jscoverage['vizapi/VizController.js'][158]++;
  try {
    _$jscoverage['vizapi/VizController.js'][160]++;
    if (((! this.currentViz) || (this.currentViz.id != state.vizId))) {
      _$jscoverage['vizapi/VizController.js'][161]++;
      for (var idx = 0; (idx < pentaho.visualizations.length); (idx++)) {
        _$jscoverage['vizapi/VizController.js'][162]++;
        if ((pentaho.visualizations[idx].id == state.id)) {
          _$jscoverage['vizapi/VizController.js'][164]++;
          this.currentViz = pentaho.visualizations[idx];
          _$jscoverage['vizapi/VizController.js'][165]++;
          break;
        }
}
      _$jscoverage['vizapi/VizController.js'][168]++;
      if ((! this.currentViz)) {
        _$jscoverage['vizapi/VizController.js'][169]++;
        alert(("Visualization not found: " + state.vizId));
      }
      _$jscoverage['vizapi/VizController.js'][172]++;
      this.setVisualization(this.currentViz);
    }
    _$jscoverage['vizapi/VizController.js'][174]++;
    (delete state.dataReqs);
    _$jscoverage['vizapi/VizController.js'][175]++;
    dojo.safeMixin(this.currentViz, state);
    _$jscoverage['vizapi/VizController.js'][177]++;
    if ((this.chart && this.chart.setState)) {
      _$jscoverage['vizapi/VizController.js'][178]++;
      this.chart.setState(state.vizState);
    }
    _$jscoverage['vizapi/VizController.js'][180]++;
    return true;
  }
  catch (e) {
    _$jscoverage['vizapi/VizController.js'][182]++;
    this.lastError = e;
    _$jscoverage['vizapi/VizController.js'][183]++;
    return false;
  }
});
_$jscoverage['vizapi/VizController.js'][194]++;
pentaho.VizController.prototype.setDomNode = (function (node) {
  _$jscoverage['vizapi/VizController.js'][195]++;
  try {
    _$jscoverage['vizapi/VizController.js'][196]++;
    this.domNode = node;
    _$jscoverage['vizapi/VizController.js'][199]++;
    while (node.firstChild) {
      _$jscoverage['vizapi/VizController.js'][200]++;
      node.removeChild(node.firstChild);
}
    _$jscoverage['vizapi/VizController.js'][204]++;
    var width = this.domNode.offsetWidth;
    _$jscoverage['vizapi/VizController.js'][205]++;
    var height = this.domNode.offsetHeight;
    _$jscoverage['vizapi/VizController.js'][206]++;
    this.visualPanelElement = document.createElement("DIV");
    _$jscoverage['vizapi/VizController.js'][207]++;
    this.visualPanelElement.setAttribute("id", ("visualPanelElement-" + this.id));
    _$jscoverage['vizapi/VizController.js'][208]++;
    this.visualPanelElement.setAttribute("style", ("border:0px solid #red; background-color: white; width: " + width + "px; height: " + height + "px"));
    _$jscoverage['vizapi/VizController.js'][209]++;
    this.domNode.appendChild(this.visualPanelElement);
    _$jscoverage['vizapi/VizController.js'][210]++;
    return true;
  }
  catch (e) {
    _$jscoverage['vizapi/VizController.js'][212]++;
    this.lastError = e;
    _$jscoverage['vizapi/VizController.js'][213]++;
    return false;
  }
});
_$jscoverage['vizapi/VizController.js'][224]++;
pentaho.VizController.prototype.setDataTable = (function (table) {
  _$jscoverage['vizapi/VizController.js'][225]++;
  try {
    _$jscoverage['vizapi/VizController.js'][226]++;
    this.origTable = table;
    _$jscoverage['vizapi/VizController.js'][227]++;
    this.setupTable();
    _$jscoverage['vizapi/VizController.js'][228]++;
    return true;
  }
  catch (e) {
    _$jscoverage['vizapi/VizController.js'][230]++;
    this.lastError = e;
    _$jscoverage['vizapi/VizController.js'][231]++;
    return false;
  }
});
_$jscoverage['vizapi/VizController.js'][241]++;
pentaho.VizController.prototype.setTitle = (function (title) {
  _$jscoverage['vizapi/VizController.js'][242]++;
  this.title = title;
});
_$jscoverage['vizapi/VizController.js'][252]++;
pentaho.VizController.prototype.setVisualization = (function (visualization, options) {
  _$jscoverage['vizapi/VizController.js'][253]++;
  try {
    _$jscoverage['vizapi/VizController.js'][254]++;
    if ((this.currentViz && (this.currentViz["class"] != visualization["class"]))) {
      _$jscoverage['vizapi/VizController.js'][256]++;
      this.setDomNode(this.domNode);
    }
    _$jscoverage['vizapi/VizController.js'][258]++;
    this.currentViz = visualization;
    _$jscoverage['vizapi/VizController.js'][260]++;
    this.doVisualization(visualization, options);
    _$jscoverage['vizapi/VizController.js'][261]++;
    return true;
  }
  catch (e) {
    _$jscoverage['vizapi/VizController.js'][263]++;
    this.lastError = e;
    _$jscoverage['vizapi/VizController.js'][264]++;
    return false;
  }
});
_$jscoverage['vizapi/VizController.js'][274]++;
pentaho.VizController.prototype.updateVisualization = (function (options) {
  _$jscoverage['vizapi/VizController.js'][275]++;
  try {
    _$jscoverage['vizapi/VizController.js'][277]++;
    if ((! this.currentViz)) {
      _$jscoverage['vizapi/VizController.js'][278]++;
      return;
    }
    _$jscoverage['vizapi/VizController.js'][280]++;
    this.doVisualization(this.currentViz, options);
    _$jscoverage['vizapi/VizController.js'][281]++;
    return true;
  }
  catch (e) {
    _$jscoverage['vizapi/VizController.js'][283]++;
    this.lastError = e;
    _$jscoverage['vizapi/VizController.js'][284]++;
    return false;
  }
});
_$jscoverage['vizapi/VizController.js'][294]++;
pentaho.VizController.prototype.doVisualization = (function (visualization, userDefinedOptions) {
  _$jscoverage['vizapi/VizController.js'][295]++;
  this.userDefinedOptions = (userDefinedOptions || {});
  _$jscoverage['vizapi/VizController.js'][297]++;
  if ((! this.dataTable)) {
    _$jscoverage['vizapi/VizController.js'][298]++;
    return;
  }
  _$jscoverage['vizapi/VizController.js'][300]++;
  try {
    _$jscoverage['vizapi/VizController.js'][301]++;
    currentView = new (pentaho.DataView)(this.dataTable);
    _$jscoverage['vizapi/VizController.js'][303]++;
    var className = visualization["class"];
    _$jscoverage['vizapi/VizController.js'][306]++;
    var options = {"title": this.title, "width": this.visualPanelElement.offsetWidth, "height": this.visualPanelElement.offsetHeight, metrics: this.metrics, palette: this.palette, controller: this, action: this.currentAction, selections: this.highlights};
    _$jscoverage['vizapi/VizController.js'][316]++;
    if (visualization.needsColorGradient) {
      _$jscoverage['vizapi/VizController.js'][317]++;
      var gradMap = [[255, 0, 0], [255, 255, 0], [0, 0, 255], [0, 255, 0]];
      _$jscoverage['vizapi/VizController.js'][319]++;
      options.color1 = gradMap[0];
      _$jscoverage['vizapi/VizController.js'][321]++;
      options.color2 = gradMap[3];
    }
    _$jscoverage['vizapi/VizController.js'][326]++;
    var propMap = visualization.propMap;
    _$jscoverage['vizapi/VizController.js'][327]++;
    if (propMap) {
      _$jscoverage['vizapi/VizController.js'][328]++;
      for (var propNo = 0; (propNo < propMap.length); (propNo++)) {
        _$jscoverage['vizapi/VizController.js'][329]++;
        var prop = propMap[propNo];
        _$jscoverage['vizapi/VizController.js'][330]++;
        var propValue = null;
        _$jscoverage['vizapi/VizController.js'][331]++;
        if ((prop.source == "columnlabel")) {
          _$jscoverage['vizapi/VizController.js'][332]++;
          propValue = currentView.getColumnLabel(prop.position);
        }
        _$jscoverage['vizapi/VizController.js'][334]++;
        if ((prop.source == "maxvalue")) {
          _$jscoverage['vizapi/VizController.js'][335]++;
          propValue = this.metrics[prop.position].range.max;
        }
        _$jscoverage['vizapi/VizController.js'][337]++;
        if ((prop.source == "minvalue")) {
          _$jscoverage['vizapi/VizController.js'][338]++;
          propValue = this.metrics[prop.position].range.min;
        }
        _$jscoverage['vizapi/VizController.js'][340]++;
        var obj = options;
        _$jscoverage['vizapi/VizController.js'][341]++;
        for (var nameNo = 0; (nameNo < prop.name.length); (nameNo++)) {
          _$jscoverage['vizapi/VizController.js'][342]++;
          if ((nameNo < (prop.name.length - 1))) {
            _$jscoverage['vizapi/VizController.js'][344]++;
            if ((! obj[prop.name[nameNo]])) {
              _$jscoverage['vizapi/VizController.js'][345]++;
              obj[prop.name[nameNo]] = {};
            }
            _$jscoverage['vizapi/VizController.js'][347]++;
            obj = obj[prop.name[nameNo]];
          }
          else {
            _$jscoverage['vizapi/VizController.js'][351]++;
            obj[prop.name[nameNo]] = propValue;
          }
}
}
    }
    _$jscoverage['vizapi/VizController.js'][357]++;
    if (visualization.args) {
      _$jscoverage['vizapi/VizController.js'][358]++;
      for (var x in visualization.args) {
        _$jscoverage['vizapi/VizController.js'][359]++;
        options[x] = visualization.args[x];
}
    }
    _$jscoverage['vizapi/VizController.js'][362]++;
    for (var x = x in this.userDefinedOptions) {
      _$jscoverage['vizapi/VizController.js'][363]++;
      options[x] = this.userDefinedOptions[x];
}
    _$jscoverage['vizapi/VizController.js'][367]++;
    var id = ("chart_div" + this.id);
    _$jscoverage['vizapi/VizController.js'][369]++;
    if ((this.chart && (this.chart.vizId == visualization.id))) {
    }
    else {
      _$jscoverage['vizapi/VizController.js'][372]++;
      var chartDiv = this.visualPanelElement;
      _$jscoverage['vizapi/VizController.js'][373]++;
      eval(("this.chart = new " + className + "(chartDiv)"));
      _$jscoverage['vizapi/VizController.js'][374]++;
      pentaho.events.addListener(this.chart, "select", (function () {
  _$jscoverage['vizapi/VizController.js'][374]++;
  return myself.chartSelectHandler.apply(myself, (arguments || []));
}));
      _$jscoverage['vizapi/VizController.js'][375]++;
      pentaho.events.addListener(this.chart, "doubleclick", (function () {
  _$jscoverage['vizapi/VizController.js'][375]++;
  return myself.chartDoubleClickHandler.apply(myself, (arguments || []));
}));
      _$jscoverage['vizapi/VizController.js'][376]++;
      pentaho.events.addListener(this.chart, "onmouseover", (function () {
  _$jscoverage['vizapi/VizController.js'][376]++;
  return myself.chartMouseOverHandler.apply(myself, (arguments || []));
}));
      _$jscoverage['vizapi/VizController.js'][377]++;
      pentaho.events.addListener(this.chart, "onmouseout", (function () {
  _$jscoverage['vizapi/VizController.js'][377]++;
  return myself.chartMouseOutHandler.apply(myself, (arguments || []));
}));
    }
    _$jscoverage['vizapi/VizController.js'][382]++;
    var myself = this;
    _$jscoverage['vizapi/VizController.js'][383]++;
    this.chart.controller = this;
    _$jscoverage['vizapi/VizController.js'][384]++;
    this.chart.id = ("viz" + this.id);
    _$jscoverage['vizapi/VizController.js'][385]++;
    this.chart.vizId = visualization.id;
    _$jscoverage['vizapi/VizController.js'][387]++;
    if ((! currentView)) {
      _$jscoverage['vizapi/VizController.js'][388]++;
      alert("No suitable dataset");
      _$jscoverage['vizapi/VizController.js'][389]++;
      document.getElementById("chart_div").innerHTML = "";
      _$jscoverage['vizapi/VizController.js'][390]++;
      return;
    }
    _$jscoverage['vizapi/VizController.js'][393]++;
    try {
      _$jscoverage['vizapi/VizController.js'][394]++;
      this.chart.draw(currentView, options);
    }
    catch (e) {
      _$jscoverage['vizapi/VizController.js'][396]++;
      alert(e);
    }
    _$jscoverage['vizapi/VizController.js'][398]++;
    this.currentViz = visualization;
    _$jscoverage['vizapi/VizController.js'][399]++;
    return true;
  }
  catch (e) {
    _$jscoverage['vizapi/VizController.js'][401]++;
    this.lastError = e;
    _$jscoverage['vizapi/VizController.js'][402]++;
    return false;
  }
});
_$jscoverage['vizapi/VizController.js'][410]++;
pentaho.VizController.prototype.chartSelectHandler = (function (args) {
  _$jscoverage['vizapi/VizController.js'][411]++;
  this.processHighlights(args);
  _$jscoverage['vizapi/VizController.js'][412]++;
  pentaho.events.trigger(this, "select", args);
});
_$jscoverage['vizapi/VizController.js'][415]++;
pentaho.VizController.prototype.chartDoubleClickHandler = (function (args) {
  _$jscoverage['vizapi/VizController.js'][417]++;
  pentaho.events.trigger(this, "doubleclick", args);
});
_$jscoverage['vizapi/VizController.js'][420]++;
pentaho.VizController.prototype.processHighlights = (function (args) {
  _$jscoverage['vizapi/VizController.js'][421]++;
  var mode = (args.selectionMode || "TOGGLE");
  _$jscoverage['vizapi/VizController.js'][423]++;
  if ((mode == "REPLACE")) {
    _$jscoverage['vizapi/VizController.js'][425]++;
    this.highlights = [];
  }
  _$jscoverage['vizapi/VizController.js'][428]++;
  for (var i = 0; (i < args.selections.length); (i++)) {
    _$jscoverage['vizapi/VizController.js'][429]++;
    var selectedItem = args.selections[i];
    _$jscoverage['vizapi/VizController.js'][431]++;
    var rowItem;
    _$jscoverage['vizapi/VizController.js'][432]++;
    var colId;
    _$jscoverage['vizapi/VizController.js'][433]++;
    var colLabel;
    _$jscoverage['vizapi/VizController.js'][434]++;
    var value;
    _$jscoverage['vizapi/VizController.js'][435]++;
    var colItem;
    _$jscoverage['vizapi/VizController.js'][436]++;
    var rowId;
    _$jscoverage['vizapi/VizController.js'][437]++;
    var rowLabel;
    _$jscoverage['vizapi/VizController.js'][439]++;
    if (selectedItem.rowItem) {
      _$jscoverage['vizapi/VizController.js'][440]++;
      rowItem = selectedItem.rowItem;
      _$jscoverage['vizapi/VizController.js'][441]++;
      rowId = selectedItem.rowId;
      _$jscoverage['vizapi/VizController.js'][442]++;
      rowLabel = selectedItem.rowLabel;
    }
    _$jscoverage['vizapi/VizController.js'][444]++;
    if ((selectedItem.column || (selectedItem.column == 0))) {
      _$jscoverage['vizapi/VizController.js'][445]++;
      colId = selectedItem.columnId;
      _$jscoverage['vizapi/VizController.js'][446]++;
      colLabel = selectedItem.columnLabel;
      _$jscoverage['vizapi/VizController.js'][447]++;
      colItem = selectedItem.columnItem;
    }
    _$jscoverage['vizapi/VizController.js'][449]++;
    if (((selectedItem.row || (selectedItem.row == 0)) && selectedItem.column)) {
      _$jscoverage['vizapi/VizController.js'][450]++;
      value = selectedItem.value;
    }
    _$jscoverage['vizapi/VizController.js'][455]++;
    var removed = false;
    _$jscoverage['vizapi/VizController.js'][456]++;
    var modified = false;
    _$jscoverage['vizapi/VizController.js'][458]++;
    if ((mode == "TOGGLE")) {
      _$jscoverage['vizapi/VizController.js'][460]++;
      for (var hNo = 0; (hNo < this.highlights.length); (hNo++)) {
        _$jscoverage['vizapi/VizController.js'][461]++;
        var highlightRowItem = this.highlights[hNo].rowItem;
        _$jscoverage['vizapi/VizController.js'][462]++;
        var highlightColItem = this.highlights[hNo].colItem;
        _$jscoverage['vizapi/VizController.js'][463]++;
        var rowItemsSame = (highlightRowItem && ((highlightRowItem == rowItem) || (highlightRowItem.join && (highlightRowItem.join("-") == rowItem.join("-")))));
        _$jscoverage['vizapi/VizController.js'][467]++;
        var colItemsSame = (highlightColItem && ((highlightColItem == colItem) || (highlightColItem.join && (highlightColItem.join("-") == colItem.join("-")))));
        _$jscoverage['vizapi/VizController.js'][471]++;
        if (((typeof colItemsSame) == "undefined")) {
          _$jscoverage['vizapi/VizController.js'][472]++;
          colItemsSame = true;
        }
        _$jscoverage['vizapi/VizController.js'][475]++;
        if ((rowItemsSame && colItemsSame && this.highlights[hNo].colId && (this.highlights[hNo].colId == colId) && (this.highlights[hNo].type == "column") && (selectedItem.type == "cell"))) {
          _$jscoverage['vizapi/VizController.js'][477]++;
          this.highlights[hNo].type = "row";
          _$jscoverage['vizapi/VizController.js'][478]++;
          highlight.id = selectedItem.rowId;
          _$jscoverage['vizapi/VizController.js'][479]++;
          highlight.value = rowItem;
          _$jscoverage['vizapi/VizController.js'][480]++;
          modified = true;
          _$jscoverage['vizapi/VizController.js'][481]++;
          break;
        }
        else {
          _$jscoverage['vizapi/VizController.js'][483]++;
          if ((rowItemsSame && colItemsSame && this.highlights[hNo].colId && (this.highlights[hNo].colId == colId) && (this.highlights[hNo].type == "column"))) {
            _$jscoverage['vizapi/VizController.js'][485]++;
            this.highlights.splice(hNo, 1);
            _$jscoverage['vizapi/VizController.js'][486]++;
            removed = true;
            _$jscoverage['vizapi/VizController.js'][487]++;
            break;
          }
          else {
            _$jscoverage['vizapi/VizController.js'][489]++;
            if ((rowItemsSame && colItemsSame)) {
              _$jscoverage['vizapi/VizController.js'][491]++;
              this.highlights.splice(hNo, 1);
              _$jscoverage['vizapi/VizController.js'][492]++;
              removed = true;
              _$jscoverage['vizapi/VizController.js'][493]++;
              break;
            }
          }
        }
}
    }
    _$jscoverage['vizapi/VizController.js'][497]++;
    if (((! removed) && (! modified))) {
      _$jscoverage['vizapi/VizController.js'][498]++;
      highlight = {rowItem: rowItem, colId: colId, colLabel: colLabel, colItem: colItem, rowId: rowId, rowLabel: rowLabel};
      _$jscoverage['vizapi/VizController.js'][499]++;
      highlight.type = selectedItem.type;
      _$jscoverage['vizapi/VizController.js'][500]++;
      if ((selectedItem.type == "row")) {
        _$jscoverage['vizapi/VizController.js'][501]++;
        highlight.id = rowId;
        _$jscoverage['vizapi/VizController.js'][502]++;
        highlight.value = rowItem;
      }
      else {
        _$jscoverage['vizapi/VizController.js'][504]++;
        if ((selectedItem.type == "column")) {
          _$jscoverage['vizapi/VizController.js'][505]++;
          highlight.type = "column";
          _$jscoverage['vizapi/VizController.js'][506]++;
          highlight.id = colId;
          _$jscoverage['vizapi/VizController.js'][507]++;
          highlight.value = colLabel;
        }
        else {
          _$jscoverage['vizapi/VizController.js'][509]++;
          if ((selectedItem.type == "cell")) {
            _$jscoverage['vizapi/VizController.js'][510]++;
            highlight.type = "cell";
            _$jscoverage['vizapi/VizController.js'][511]++;
            highlight.id = colId;
            _$jscoverage['vizapi/VizController.js'][512]++;
            highlight.value = colLabel;
          }
        }
      }
      _$jscoverage['vizapi/VizController.js'][514]++;
      this.highlights.push(highlight);
    }
}
});
_$jscoverage['vizapi/VizController.js'][521]++;
pentaho.VizController.prototype.createCombination = (function () {
  _$jscoverage['vizapi/VizController.js'][524]++;
  var type, columnId, values = [];
  _$jscoverage['vizapi/VizController.js'][525]++;
  for (var idx = 0; (idx < this.highlights.length); (idx++)) {
    _$jscoverage['vizapi/VizController.js'][526]++;
    if ((idx == 0)) {
      _$jscoverage['vizapi/VizController.js'][527]++;
      type = this.highlights[idx].type;
      _$jscoverage['vizapi/VizController.js'][528]++;
      values.push(this.highlights[idx].value);
      _$jscoverage['vizapi/VizController.js'][529]++;
      columnId = this.highlights[idx].id;
    }
    else {
      _$jscoverage['vizapi/VizController.js'][531]++;
      if ((this.highlights[idx].id == columnId)) {
        _$jscoverage['vizapi/VizController.js'][532]++;
        values.push(this.highlights[idx].value);
      }
    }
}
  _$jscoverage['vizapi/VizController.js'][535]++;
  this.combinations.push({values: values, columnId: columnId});
  _$jscoverage['vizapi/VizController.js'][539]++;
  this.setupTable();
  _$jscoverage['vizapi/VizController.js'][541]++;
  this.highlights = [];
  _$jscoverage['vizapi/VizController.js'][542]++;
  this.updateVisualization();
});
_$jscoverage['vizapi/VizController.js'][550]++;
pentaho.VizController.prototype.updateHighlights = (function () {
  _$jscoverage['vizapi/VizController.js'][552]++;
  if (this.chart.setHighlights) {
    _$jscoverage['vizapi/VizController.js'][553]++;
    this.chart.setHighlights(this.highlights);
  }
});
_$jscoverage['vizapi/VizController.js'][562]++;
pentaho.VizController.prototype.clearSelections = (function () {
  _$jscoverage['vizapi/VizController.js'][563]++;
  this.highlights = [];
});
_$jscoverage['vizapi/VizController.js'][567]++;
pentaho.VizController.prototype.setupTable = (function () {
  _$jscoverage['vizapi/VizController.js'][569]++;
  if ((! this.origTable)) {
    _$jscoverage['vizapi/VizController.js'][570]++;
    return;
  }
  _$jscoverage['vizapi/VizController.js'][573]++;
  this.metrics = [];
  _$jscoverage['vizapi/VizController.js'][574]++;
  this.dataTable = this.origTable;
  _$jscoverage['vizapi/VizController.js'][577]++;
  if ((this.combinations && (this.combinations.length > 0))) {
    _$jscoverage['vizapi/VizController.js'][578]++;
    var rows = this.origTable.getFilteredRows([{column: 0, combinations: this.combinations}]);
    _$jscoverage['vizapi/VizController.js'][579]++;
    var view = new (pentaho.DataView)(table);
    _$jscoverage['vizapi/VizController.js'][580]++;
    view.setRows(rows);
    _$jscoverage['vizapi/VizController.js'][581]++;
    this.dataTable = view;
  }
  _$jscoverage['vizapi/VizController.js'][585]++;
  for (var colNo = 0; (colNo < this.dataTable.getNumberOfColumns()); (colNo++)) {
    _$jscoverage['vizapi/VizController.js'][586]++;
    if ((this.dataTable.getColumnType(colNo) == "string")) {
      _$jscoverage['vizapi/VizController.js'][587]++;
      var values = this.dataTable.getDistinctValues(colNo);
      _$jscoverage['vizapi/VizController.js'][588]++;
      var paletteMap = pentaho.VizController.createPaletteMap(values, this.palette);
      _$jscoverage['vizapi/VizController.js'][590]++;
      this.metrics.push({values: values, paletteMap: paletteMap});
    }
    else {
      _$jscoverage['vizapi/VizController.js'][595]++;
      if ((this.dataTable.getColumnType(colNo) == "number")) {
        _$jscoverage['vizapi/VizController.js'][596]++;
        var range = this.dataTable.getColumnRange(colNo);
        _$jscoverage['vizapi/VizController.js'][597]++;
        this.metrics.push({range: range});
      }
    }
}
});
_$jscoverage['vizapi/VizController.js'][603]++;
function sort(columnIdx, direction) {
  _$jscoverage['vizapi/VizController.js'][605]++;
  var rows = this.dataTable.sort([{column: columnIdx, desc: (direction == pentaho.pda.Column.SORT_TYPES.DESCENDING)}]);
  _$jscoverage['vizapi/VizController.js'][606]++;
  clearDataDisplay();
  _$jscoverage['vizapi/VizController.js'][607]++;
  displayData();
}
_$jscoverage['vizapi/VizController.js'][615]++;
pentaho.VizController.createPaletteMap = (function (items, palette) {
  _$jscoverage['vizapi/VizController.js'][616]++;
  var map = {};
  _$jscoverage['vizapi/VizController.js'][617]++;
  for (var itemNo = 0; ((itemNo < items.length) && (itemNo < palette.colors.length)); (itemNo++)) {
    _$jscoverage['vizapi/VizController.js'][618]++;
    map[items[itemNo]] = palette.colors[itemNo];
}
  _$jscoverage['vizapi/VizController.js'][621]++;
  for (var itemNo = palette.colors.length; (itemNo < items.length); (itemNo++)) {
    _$jscoverage['vizapi/VizController.js'][622]++;
    map[items[itemNo]] = "#000000";
}
  _$jscoverage['vizapi/VizController.js'][625]++;
  return map;
});
_$jscoverage['vizapi/VizController.js'][633]++;
pentaho.VizController.getRrbGradient = (function (value, min, max, color1, color2) {
  _$jscoverage['vizapi/VizController.js'][634]++;
  if (((max - min) <= 0)) {
    _$jscoverage['vizapi/VizController.js'][635]++;
    return pentaho.VizController.getRrbColor(color2[0], color2[1], color2[2]);
  }
  _$jscoverage['vizapi/VizController.js'][637]++;
  var inRange = ((value - min) / (max - min));
  _$jscoverage['vizapi/VizController.js'][638]++;
  var cols = new Array(3);
  _$jscoverage['vizapi/VizController.js'][639]++;
  cols[0] = Math.floor(((inRange * (color2[0] - color1[0])) + color1[0]));
  _$jscoverage['vizapi/VizController.js'][640]++;
  cols[1] = Math.floor(((inRange * (color2[1] - color1[1])) + color1[1]));
  _$jscoverage['vizapi/VizController.js'][641]++;
  cols[2] = Math.floor(((inRange * (color2[2] - color1[2])) + color1[2]));
  _$jscoverage['vizapi/VizController.js'][642]++;
  return pentaho.VizController.getRrbColor(cols[0], cols[1], cols[2]);
});
_$jscoverage['vizapi/VizController.js'][650]++;
pentaho.VizController.getRgbGradientFromMultiColorHex = (function (value, min, max, colors) {
  _$jscoverage['vizapi/VizController.js'][652]++;
  var steps = (colors.length - 1);
  _$jscoverage['vizapi/VizController.js'][653]++;
  var range = (max - min);
  _$jscoverage['vizapi/VizController.js'][655]++;
  if ((range <= 0)) {
    _$jscoverage['vizapi/VizController.js'][656]++;
    var start = (colors.length - 1);
    _$jscoverage['vizapi/VizController.js'][657]++;
    var end = start;
  }
  else {
    _$jscoverage['vizapi/VizController.js'][659]++;
    var start = Math.floor((((value - min) / range) * steps));
    _$jscoverage['vizapi/VizController.js'][660]++;
    var end = Math.ceil((((value - min) / range) * steps));
  }
  _$jscoverage['vizapi/VizController.js'][662]++;
  var color1 = pentaho.VizController.convertToRGB(colors[start]);
  _$jscoverage['vizapi/VizController.js'][663]++;
  var color2 = pentaho.VizController.convertToRGB(colors[end]);
  _$jscoverage['vizapi/VizController.js'][665]++;
  var rangeMin = ((start == 0)? 1: ((start / steps) * max));
  _$jscoverage['vizapi/VizController.js'][666]++;
  var rangeMax = ((end / steps) * max);
  _$jscoverage['vizapi/VizController.js'][668]++;
  var inRange;
  _$jscoverage['vizapi/VizController.js'][669]++;
  if ((rangeMin == rangeMax)) {
    _$jscoverage['vizapi/VizController.js'][670]++;
    inRange = 1;
  }
  else {
    _$jscoverage['vizapi/VizController.js'][672]++;
    inRange = ((value - rangeMin) / (rangeMax - rangeMin));
  }
  _$jscoverage['vizapi/VizController.js'][674]++;
  var cols = new Array(3);
  _$jscoverage['vizapi/VizController.js'][675]++;
  cols[0] = Math.floor(((inRange * (color2[0] - color1[0])) + color1[0]));
  _$jscoverage['vizapi/VizController.js'][676]++;
  cols[1] = Math.floor(((inRange * (color2[1] - color1[1])) + color1[1]));
  _$jscoverage['vizapi/VizController.js'][677]++;
  cols[2] = Math.floor(((inRange * (color2[2] - color1[2])) + color1[2]));
  _$jscoverage['vizapi/VizController.js'][678]++;
  return pentaho.VizController.getRrbColor(cols[0], cols[1], cols[2]);
});
_$jscoverage['vizapi/VizController.js'][681]++;
pentaho.VizController.getRgbStepFromMultiColorHex = (function (value, min, max, colors) {
  _$jscoverage['vizapi/VizController.js'][683]++;
  var steps = (colors.length - 1);
  _$jscoverage['vizapi/VizController.js'][684]++;
  var range = (max - min);
  _$jscoverage['vizapi/VizController.js'][687]++;
  var step = Math.round((((value - min) / range) * steps));
  _$jscoverage['vizapi/VizController.js'][689]++;
  var color = pentaho.VizController.convertToRGB(colors[step]);
  _$jscoverage['vizapi/VizController.js'][690]++;
  return pentaho.VizController.getRrbColor(color[0], color[1], color[2]);
});
_$jscoverage['vizapi/VizController.js'][693]++;
pentaho.VizController.convertToRGB = (function (hex) {
  _$jscoverage['vizapi/VizController.js'][694]++;
  if ((hex.indexOf("#") == 0)) {
    _$jscoverage['vizapi/VizController.js'][695]++;
    hex = hex.substring(1);
  }
  else {
    _$jscoverage['vizapi/VizController.js'][697]++;
    hex = pentaho.VizController.CSS_Names[hex.toLowerCase()];
  }
  _$jscoverage['vizapi/VizController.js'][699]++;
  return [parseInt(hex.substring(0, 2), 16), parseInt(hex.substring(2, 4), 16), parseInt(hex.substring(4, 6), 16)];
});
_$jscoverage['vizapi/VizController.js'][711]++;
pentaho.VizController.getRrbColor = (function (r, g, b) {
  _$jscoverage['vizapi/VizController.js'][712]++;
  return ("RGB(" + r + "," + g + "," + b + ")");
});
_$jscoverage['vizapi/VizController.js'][715]++;
pentaho.VizController.prototype.resize = (function (width, height) {
  _$jscoverage['vizapi/VizController.js'][716]++;
  this.visualPanelElement.style.width = (width + "px");
  _$jscoverage['vizapi/VizController.js'][717]++;
  this.visualPanelElement.style.height = (height + "px");
  _$jscoverage['vizapi/VizController.js'][718]++;
  this.chart.resize(width, height);
});
_$jscoverage['vizapi/VizController.js'][722]++;
pentaho.VizController.dashboardMode = false;
_$jscoverage['vizapi/VizController.js'][723]++;
try {
  _$jscoverage['vizapi/VizController.js'][724]++;
  (window.parent && ((typeof window.parent.PentahoDashboardController) !== "undefined"));
}
catch (ignored) {
}
_$jscoverage['vizapi/VizController.js'][729]++;
pentaho.VizController.CSS_Names = {"aliceblue": "F0F8FF", "antiquewhite": "FAEBD7", "aqua": "00FFFF", "aquamarine": "7FFFD4", "azure": "F0FFFF", "beige": "F5F5DC", "bisque": "FFE4C4", "black": "000000", "blanchedalmond": "FFEBCD", "blue": "0000FF", "blueviolet": "8A2BE2", "brown": "A52A2A", "burlywood": "DEB887", "cadetblue": "5F9EA0", "chartreuse": "7FFF00", "chocolate": "D2691E", "coral": "FF7F50", "cornflowerblue": "6495ED", "cornsilk": "FFF8DC", "crimson": "DC143C", "cyan": "00FFFF", "darkblue": "00008B", "darkcyan": "008B8B", "darkgoldenRod": "B8860B", "darkgray": "A9A9A9", "darkgrey": "A9A9A9", "darkgreen": "006400", "darkkhaki": "BDB76B", "darkmagenta": "8B008B", "darkoliveGreen": "556B2F", "darkorange": "FF8C00", "darkorchid": "9932CC", "darkred": "8B0000", "darksalmon": "E9967A", "darkseagreen": "8FBC8F", "darkslateblue": "483D8B", "darkslategray": "2F4F4F", "darkslategrey": "2F4F4F", "darkturquoise": "00CED1", "darkviolet": "9400D3", "deeppink": "FF1493", "deepskyblue": "00BFFF", "dimgray": "696969", "dimgrey": "696969", "dodgerblue": "1E90FF", "firebrick": "B22222", "floralwhite": "FFFAF0", "forestgreen": "228B22", "fuchsia": "FF00FF", "gainsboro": "DCDCDC", "ghostwhite": "F8F8FF", "gold": "FFD700", "goldenrod": "DAA520", "gray": "808080", "grey": "808080", "green": "008000", "greenyellow": "ADFF2F", "honeydew": "F0FFF0", "hotpink": "FF69B4", "indianred": "CD5C5C", "indigo": "4B0082", "ivory": "FFFFF0", "khaki": "F0E68C", "lavender": "E6E6FA", "lavenderblush": "FFF0F5", "lawngreen": "7CFC00", "lemonchiffon": "FFFACD", "lightblue": "ADD8E6", "lightcoral": "F08080", "lightcyan": "E0FFFF", "lightgoldenrodyellow": "FAFAD2", "lightgray": "D3D3D3", "lightgrey": "D3D3D3", "lightgreen": "90EE90", "lightpink": "FFB6C1", "lightsalmon": "FFA07A", "lightseagreen": "20B2AA", "lightskyblue": "87CEFA", "lightslategray": "778899", "lightslategrey": "778899", "lightsteelblue": "B0C4DE", "lightyellow": "FFFFE0", "lime": "00FF00", "limegreen": "32CD32", "linen": "FAF0E6", "magenta": "FF00FF", "maroon": "800000", "mediumaquamarine": "66CDAA", "mediumblue": "0000CD", "mediumorchid": "BA55D3", "mediumpurple": "9370D8", "mediumseagreen": "3CB371", "mediumslateblue": "7B68EE", "mediumspringgreen": "00FA9A", "mediumturquoise": "48D1CC", "mediumvioletred": "C71585", "midnightblue": "191970", "mintcream": "F5FFFA", "mistyrose": "FFE4E1", "moccasin": "FFE4B5", "navajowhite": "FFDEAD", "navy": "000080", "oldlace": "FDF5E6", "olive": "808000", "olivedrab": "6B8E23", "orange": "FFA500", "orangered": "FF4500", "orchid": "DA70D6", "palegoldenrod": "EEE8AA", "palegreen": "98FB98", "paleturquoise": "AFEEEE", "palevioletRed": "D87093", "papayawhip": "FFEFD5", "peachpuff": "FFDAB9", "peru": "CD853F", "pink": "FFC0CB", "plum": "DDA0DD", "powderblue": "B0E0E6", "purple": "800080", "red": "FF0000", "rosybrown": "BC8F8F", "royalblue": "4169E1", "saddlebrown": "8B4513", "salmon": "FA8072", "sandybrown": "F4A460", "seagreen": "2E8B57", "seashell": "FFF5EE", "sienna": "A0522D", "silver": "C0C0C0", "skyblue": "87CEEB", "slateblue": "6A5ACD", "slategray": "708090", "slategrey": "708090", "snow": "FFFAFA", "springgreen": "00FF7F", "steelblue": "4682B4", "tan": "D2B48C", "teal": "008080", "thistle": "D8BFD8", "tomato": "FF6347", "turquoise": "40E0D0", "violet": "EE82EE", "wheat": "F5DEB3", "white": "FFFFFF", "whitesmoke": "F5F5F5", "yellow": "FFFF00", "yellowgreen": "9ACD32"};
