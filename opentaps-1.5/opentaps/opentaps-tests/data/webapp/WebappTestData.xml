<?xml version="1.0" encoding="UTF-8"?>
<!--
 * Copyright (c) Open Source Strategies, Inc.
 *
 * Opentaps is free software: you can redistribute it and/or modify it
 * under the terms of the GNU Affero General Public License as published
 * by the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Opentaps is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with Opentaps.  If not, see <http://www.gnu.org/licenses/>.
 *
-->

<entity-engine-xml>
    <!-- Test seed data for the WebappTests -->

    <OpentapsWebApps applicationId="testapp1" hide="Y" sequenceNum="01"/>
      <OpentapsWebAppTab applicationId="testapp1" tabId="testtab11" sequenceNum="01"/>
      <OpentapsWebAppTab applicationId="testapp1" tabId="testtab12" sequenceNum="02"/>
      <OpentapsWebAppTab applicationId="testapp1" tabId="testtab13" sequenceNum="03"/>

    <OpentapsWebApps applicationId="testapp2" hide="Y" sequenceNum="02"/>
      <OpentapsWebAppTab applicationId="testapp2" tabId="testtab21" sequenceNum="01"/>
        <OpentapsShortcutGroup groupId="group2-21-1" applicationId="testapp2" tabId="testtab21" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group2-21-1" sequenceNum="01"/>
        <OpentapsShortcutGroup groupId="group2-21-2" applicationId="testapp2" tabId="testtab21" sequenceNum="02"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group2-21-2" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut2" groupId="group2-21-2" sequenceNum="02"/>
      <OpentapsWebAppTab applicationId="testapp2" tabId="testtab22" sequenceNum="02"/>
        <OpentapsShortcutGroup groupId="group2-22-1" applicationId="testapp2" tabId="testtab22" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group2-22-1" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut2" groupId="group2-22-1" sequenceNum="02"/>
        <OpentapsShortcutGroup groupId="group2-22-2" applicationId="testapp2" tabId="testtab22" sequenceNum="02"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group2-22-2" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut2" groupId="group2-22-2" sequenceNum="02"/>
          <OpentapsShortcut shortcutId="shortcut3" groupId="group2-22-2" sequenceNum="03"/>

    <OpentapsWebApps applicationId="testapp3" hide="Y" sequenceNum="03"/>
      <OpentapsWebAppTab applicationId="testapp3" tabId="testtab31" sequenceNum="01"/>
        <OpentapsShortcutGroup groupId="group3-31-1" applicationId="testapp3" tabId="testtab31" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group3-31-1" sequenceNum="01"/>
        <OpentapsShortcutGroup groupId="group3-31-2" applicationId="testapp3" tabId="testtab31" securityModule="TESTAPP3T1G2" securityAction="VIEW" sequenceNum="02"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group3-31-2" sequenceNum="01"/>
      <OpentapsWebAppTab applicationId="testapp3" tabId="testtab32" securityModule="TESTAPP3T2" securityAction="VIEW" sequenceNum="02"/>
        <OpentapsShortcutGroup groupId="group3-32-1" applicationId="testapp3" tabId="testtab32" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group3-32-1" sequenceNum="01"/>
        <OpentapsShortcutGroup groupId="group3-32-2" applicationId="testapp3" tabId="testtab32" securityModule="TESTAPP3T2G2" securityAction="VIEW" sequenceNum="02"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group3-32-2" sequenceNum="01"/>
      <OpentapsWebAppTab applicationId="testapp3" tabId="testtab33" securityModule="TESTAPP3T3" securityAction="VIEW" sequenceNum="03"/>
        <OpentapsShortcutGroup groupId="group3-33-1" applicationId="testapp3" tabId="testtab33" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group3-33-1" sequenceNum="01"/>
        <OpentapsShortcutGroup groupId="group3-33-2" applicationId="testapp3" tabId="testtab33" securityModule="TESTAPP3T3G2" securityAction="VIEW" sequenceNum="02"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group3-33-2" sequenceNum="01"/>

    <OpentapsWebApps applicationId="testapp4" hide="Y" sequenceNum="04"/>
      <OpentapsWebAppTab applicationId="testapp4" tabId="testtab41" sequenceNum="01"/>
        <OpentapsShortcutGroup groupId="group4-41-1" applicationId="testapp4" tabId="testtab41" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group4-41-1" sequenceNum="01"/>
        <OpentapsShortcutGroup groupId="group4-41-2" applicationId="testapp4" tabId="testtab41" sequenceNum="02"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group4-41-2" handlerMethod="org.opentaps.webapp.handlers.CommonHandlers.checkHasCart" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut2" groupId="group4-41-2" handlerMethod="org.opentaps.webapp.handlers.CommonHandlers.checkHasNoCart" sequenceNum="02"/>
      <OpentapsWebAppTab applicationId="testapp4" tabId="testtab42" sequenceNum="02"/>
        <OpentapsShortcutGroup groupId="group4-42-1" applicationId="testapp4" tabId="testtab42" handlerMethod="org.opentaps.webapp.handlers.CommonHandlers.checkBoolean" handlerParameter="hasGroup1" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group4-42-1" handlerMethod="org.opentaps.webapp.handlers.CommonHandlers.checkBoolean" handlerParameter="hasShortcut1" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut2" groupId="group4-42-1" handlerMethod="org.opentaps.webapp.handlers.CommonHandlers.checkBoolean" handlerParameter="hasShortcut2" sequenceNum="02"/>
        <OpentapsShortcutGroup groupId="group4-42-2" applicationId="testapp4" tabId="testtab42" sequenceNum="02"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group4-42-2" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut2" groupId="group4-42-2" handlerMethod="org.opentaps.webapp.handlers.CommonHandlers.checkViewPreferenceForTab" handlerParameter="TEST_HANDLER:VALUE_1:VALUE_1" sequenceNum="02"/>
          <OpentapsShortcut shortcutId="shortcut3" groupId="group4-42-2" handlerMethod="org.opentaps.webapp.handlers.CommonHandlers.checkViewPreferenceForTab" handlerParameter="TEST_HANDLER:VALUE_2:VALUE_1" sequenceNum="03"/>

    <OpentapsWebApps applicationId="testapp5" hide="Y" sequenceNum="05"/>
      <OpentapsWebAppTab applicationId="testapp5" tabId="testtab51" uiLabel="testtab51 ${foo51}" linkUrl="foo${bar51}" sequenceNum="01"/>
        <OpentapsShortcutGroup groupId="group5-51-1" applicationId="testapp5" tabId="testtab51" uiLabel="group1${foo511}" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut1" groupId="group5-51-1" uiLabel="shortcut1${s1}" linkUrl="foo${s11}" sequenceNum="01"/>
          <OpentapsShortcut shortcutId="shortcut2" groupId="group5-51-1" uiLabel="shortcut2${s2}" linkUrl="foo${s22}" sequenceNum="02"/>
      <OpentapsWebAppTab applicationId="testapp5" tabId="testtab52" uiLabel="testtab52 ${foo52}" linkUrl="foo${bar52}" sequenceNum="02"/>


    <SecurityPermission permissionId="TESTAPP3T1G2_VIEW"/>
    <SecurityPermission permissionId="TESTAPP3T2_VIEW"/>
    <SecurityPermission permissionId="TESTAPP3T2G2_VIEW"/>
    <SecurityPermission permissionId="TESTAPP3T3_VIEW"/>
    <SecurityPermission permissionId="TESTAPP3T3G2_VIEW"/>
    
    <SecurityGroup groupId="TESTAPP3_U1"/>
    <SecurityGroup groupId="TESTAPP3_U2"/>

    <SecurityGroupPermission groupId="TESTAPP3_U1" permissionId="TESTAPP3T3_VIEW"/>
    <SecurityGroupPermission groupId="TESTAPP3_U1" permissionId="TESTAPP3T1G2_VIEW"/>

    <SecurityGroupPermission groupId="TESTAPP3_U2" permissionId="TESTAPP3T2_VIEW"/>
    <SecurityGroupPermission groupId="TESTAPP3_U2" permissionId="TESTAPP3T2G2_VIEW"/>

    <UserLogin userLoginId="testuser1" partyId="admin"/>
    <UserLogin userLoginId="testuser2" partyId="admin"/>
    <UserLogin userLoginId="testuser3" partyId="admin"/>

    <UserLoginSecurityGroup userLoginId="testuser1" groupId="TESTAPP3_U1" fromDate="2005-12-01 00:00:00"/>
    <UserLoginSecurityGroup userLoginId="testuser2" groupId="TESTAPP3_U2" fromDate="2005-12-01 00:00:00"/>

    <ViewPrefType viewPrefTypeId="TEST_HANDLER" application="test" applicationSection="test"/>
    <ViewPreference viewPrefTypeId="TEST_HANDLER" userLoginId="admin" viewPrefValueTypeId="VPREF_VALTYPE_STRING" viewPrefString="VALUE_2"/>    

</entity-engine-xml>
